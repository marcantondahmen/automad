/*
 *	                  ....
 *	                .:   '':.
 *	                ::::     ':..
 *	                ::.         ''..
 *	     .:'.. ..':.:::'    . :.   '':.
 *	    :.   ''     ''     '. ::::.. ..:
 *	    ::::.        ..':.. .''':::::  .
 *	    :::::::..    '..::::  :. ::::  :
 *	    ::'':::::::.    ':::.'':.::::  :
 *	    :..   ''::::::....':     ''::  :
 *	    :::::.    ':::::   :     .. '' .
 *	 .''::::::::... ':::.''   ..''  :.''''.
 *	 :..:::'':::::  :::::...:''        :..:
 *	 ::::::. '::::  ::::::::  ..::        .
 *	 ::::::::.::::  ::::::::  :'':.::   .''
 *	 ::: '::::::::.' '':::::  :.' '':  :
 *	 :::   :::::::::..' ::::  ::...'   .
 *	 :::  .::::::::::   ::::  ::::  .:'
 *	  '::'  '':::::::   ::::  : ::  :
 *	            '::::   ::::  :''  .:
 *	             ::::   ::::    ..''
 *	             :::: ..:::: .:''
 *	               ''''  '''''
 *	
 *
 *	AUTOMAD
 *	
 *	version 1.6.12
 *
 *	Copyright (c) 2014-2020 by Marc Anton Dahmen
 *	http://marcdahmen.de
 *
 *	Licensed under the MIT license.
 *	http://automad.org/license
 */!function(t,e,a){t.addVariable={selectors:{container:"#am-add-variable-container",modal:"#am-add-variable-modal",modalInput:"#am-add-variable-input",submit:"#am-add-variable-submit"},dataAttr:{errorName:"data-am-error-name",errorExists:"data-am-error-exists"},append:function(i){var o=t.addVariable,n=t.util,r=e(i.target),s=e(o.selectors.container),l=e(o.selectors.modalInput),d=l.val().replace(/[^\w\.\-]/g,"_").toLowerCase();0==e("#am-input-data-"+d).length?d?e.post("?ajax=add_variable",{name:d
},(function(t){a.modal(o.selectors.modal).hide(),l.val(""),s.append(t.html),e("#am-input-data-"+d).focus()})):t.notify.error(r.data(n.dataCamelCase(o.dataAttr.errorName))):t.notify.error(r.data(n.dataCamelCase(o.dataAttr.errorExists)))}},e(document).on("click",t.addVariable.selectors.submit,t.addVariable.append)}(window.Automad=window.Automad||{},jQuery,UIkit),function(t,e){t.blockEditor={dataAttr:"data-am-block-editor",init:function(){var a=t.blockEditor,i="["+a.dataAttr+"]",o=function(){
var t=e(this).closest(".codex-editor").find(".cdx-block, .ce-block__content").first().get(0),a=document.createElement("div");t.appendChild(a),t.removeChild(a)};e(i).each((function(){var i,o,n=e(this),r=n.data(t.util.dataCamelCase(a.dataAttr)),s=n.find("input"),l=s.attr("name").replace(/(data\[|\])/g,"");try{i=JSON.parse(s.val().replace(/&amp;/g,"&"))}catch(t){i={}}n.removeAttr(a.dataAttr),o=new EditorJS({holder:r,logLevel:"ERROR",data:i,tools:{paragraph:{class:AutomadParagraph,inlineToolbar:!0},
header:{class:Header,shortcut:"CMD+SHIFT+H",inlineToolbar:!0,config:{levels:[1,2,3,4,5,6],defaultLevel:2}},lists:{class:List,inlineToolbar:!0},table:{class:Table,inlineToolbar:!0},quote:{class:Quote,inlineToolbar:!0},delimiter:AutomadDelimiter,image:AutomadImage,gallery:AutomadGallery,slider:AutomadSlider,buttons:{class:AutomadButtons,inlineToolbar:["italic","bold","underline","editorJSStyle"]},pagelist:AutomadPagelist,filelist:AutomadFilelist,toc:{class:AutomadToc,config:{key:l}},
code:AutomadTextareaCode,raw:AutomadTextareaRaw,mail:AutomadMail,snippet:AutomadSnippet,embed:{class:Embed,config:{services:t.editorJS.embedServices}},underline:Underline,inlineCode:{class:InlineCode,shortcut:"CMD+SHIFT+M"},marker:{class:Marker},editorJSStyle:{class:EditorJSStyle,shortcut:"CMD+SHIFT+S"},editorJSInspector:EditorJSInspector},onChange:function(){o.save().then((function(t){var e=JSON.stringify(t.blocks);try{var a=JSON.stringify(JSON.parse(s.val()).blocks)}catch(t){a=""}
a!=e&&s.val(JSON.stringify(t)).trigger("change")}))},onReady:function(){n.find(".codex-editor__redactor").removeAttr("style"),new DragDrop(o),new Undo({editor:o})}})})),e(document).on("click",".ce-settings__plugin-zone .cdx-settings-button",o),e(document).on("change keyup",".cdx-input, .ce-block input, .ce-block select",o),e(window).click((function(){e(".ce-block--focused").removeClass("ce-block--focused")})),e(document).on("blur",".ce-block--focused [contenteditable]",(function(t){
t.stopPropagation()}))}},e(document).on("ajaxComplete",(function(e,a,i){(i.url.includes("page_data")||i.url.includes("shared_data")||i.url.includes("inpage_edit"))&&t.blockEditor.init()}))}(window.Automad=window.Automad||{},jQuery),function(t,e){t.clipboard={dataAttr:"data-am-clipboard",copy:function(a){a.preventDefault();var i,o=e(this).data(t.util.dataCamelCase(t.clipboard.dataAttr)),n=e('<input type="text" />').css({position:"fixed",top:-1e3
}).attr("contenteditable","true").appendTo(e("body")).val(o);if(navigator.userAgent.match(/ipad|ipod|iphone/i)){var r=n.get(0),s=document.createRange(),l=window.getSelection();s.selectNodeContents(r),l.removeAllRanges(),l.addRange(s),r.setSelectionRange(0,999999)}else n.select();i=document.execCommand("copy"),n.remove(),i&&t.notify.success(o)}},e(document).on("click","["+t.clipboard.dataAttr+"]",t.clipboard.copy)}(window.Automad=window.Automad||{},jQuery),function(t,e){t.colorPicker={
selector:"[data-am-colorpicker]",init:function(){var a=e(document),i=t.colorPicker;a.on("change keyup",i.selector+" input",i.update),a.on("focus",i.selector+' input[type="text"]',(function(t){var a=e(t.target);a.on("blur.automad",(function(){a.off("blur.automad")}))}))},update:function(a){var i=e(a.target),o=t.colorPicker,n=i.val(),r=i.closest(o.selector),s=r.find('[type="color"]'),l=r.find('[type="text"]');l.val(n).trigger("keydown"),s.val(n),n||(n=l.attr("placeholder"),s.val(n))}},
t.colorPicker.init()}(window.Automad=window.Automad||{},jQuery),function(t,e,a){t.copyResized={dataAttr:{fileInfo:"data-am-file-info",url:"data-am-url"},selectors:{modal:"#am-copy-resized-modal",button:"#am-copy-resized-submit",filename:"#am-copy-resized-filename",width:"#am-copy-resized-width",height:"#am-copy-resized-height",crop:"#am-copy-resized-crop"},destroy:function(){var a=t.copyResized.selectors;e(a.filename).val(""),e(a.width).val(""),e(a.height).val("")},init:function(){
var a=t.copyResized,i=a.dataAttr,o=a.selectors,n=e(this).closest("["+i.fileInfo+"]").data(t.util.dataCamelCase(i.fileInfo)),r=e(o.modal);e(o.filename).val(n.filename),e(o.width).val(n.img.originalWidth),e(o.height).val(n.img.originalHeight),r.off("hide.uk.modal.automad.copyResized"),r.on("hide.uk.modal.automad.copyResized",a.destroy)},submit:function(i){var o=t.copyResized,n=o.selectors,r=e(i.target),s={url:e(n.modal).data(t.util.dataCamelCase(o.dataAttr.url)),filename:e(n.filename).val(),
width:e(n.width).val(),height:e(n.height).val(),crop:Number(e(n.crop).is(":checked"))};r.prop("disabled",!0),e.post("?ajax=copy_resized",s,(function(i){r.prop("disabled",!1),i.error&&t.notify.error(i.error),i.success&&t.notify.success(i.success),e(n.modal).on("hide.uk.modal.automad.copyResized",(function(){o.destroy(),e(n.modal).closest("form").empty().submit()})),a.modal(n.modal).hide()}),"json")}},e(document).on("click",'a[href="'+t.copyResized.selectors.modal+'"]',t.copyResized.init),
e(document).on("click",t.copyResized.selectors.button,t.copyResized.submit)}(window.Automad=window.Automad||{},jQuery,UIkit),function(t,e){t.count={dataAttr:"data-am-count",get:function(a){var i=t.count;e("["+i.dataAttr+"]").each((function(){var a=e(this),o=a.data(t.util.dataCamelCase(i.dataAttr));a.text(e(o).length)}))},init:function(){var a=t.count;e(document).on("ready ajaxComplete count.automad",a.get)}},t.count.init()}(window.Automad=window.Automad||{},jQuery),function(t,e){t.datetime={
selector:"[data-am-datetime]",init:function(){var a=e(document),i=t.datetime;a.on("change",i.selector+" [data-am-u-datepicker]",i.update.date),a.on("change",i.selector+" [data-am-u-timepicker]",i.update.time),a.on("focus",i.selector+" input",(function(t){var a=e(t.target),o=a.closest(i.selector);o.addClass("am-u-active"),a.on("blur.automad",(function(){o.removeClass("am-u-active"),a.off("blur.automad")}))})),a.on("click",i.selector+" [data-am-clear-date]",(function(){var t=e(this).closest(i.selector)
;t.find("[data-am-u-timepicker]").val(""),t.find("[data-am-u-datepicker]").val("").trigger("change")}))},today:function(){var t=new Date,e=t.getMonth()+1,a=t.getDate();return t.getFullYear()+"-"+((""+e).length<2?"0":"")+e+"-"+((""+a).length<2?"0":"")+a},update:{date:function(a){var i=e(a.target),o=t.datetime,n=i.closest(o.selector),r=n.find('input[type="hidden"]'),s=i.val(),l=n.find("[data-am-u-timepicker]");time=l.val(),s?(time||(time="12:00",l.val(time)),r.val(s+" "+time+":00")):(r.val(""),
l.val("")),r.trigger("change")},time:function(a){var i=e(a.target),o=t.datetime,n=i.closest(o.selector),r=n.find('input[type="hidden"]'),s=i.val(),l=n.find("[data-am-u-datepicker]");date=l.val(),s||(s="12:00",i.val(s)),date||(date=o.today(),l.val(date)),r.val(date+" "+s+":00").trigger("change")}}},t.datetime.init()}(window.Automad=window.Automad||{},jQuery),function(t,e){t.debug={init:function(){e(document).ajaxComplete((function(t,a,i){
if(void 0!==a.responseJSON&&a.responseJSON.hasOwnProperty("debug")&&!e.isEmptyObject(a.responseJSON.debug)){var o={};o["Ajax: "+i.url]=a.responseJSON.debug,console.log(o)}}))}},t.debug.init()}(window.Automad=window.Automad||{},jQuery),function(t,e,a){t.editFileInfo={dataAttr:{fileInfo:"data-am-file-info",url:"data-am-url",ext:"data-am-extension"},selectors:{modal:"#am-edit-file-info-modal",button:"#am-edit-file-info-submit",img:"#am-edit-file-info-img",icon:"#am-edit-file-info-icon",
oldName:"#am-edit-file-info-old-name",newName:"#am-edit-file-info-new-name",caption:"#am-edit-file-info-caption",download:"#am-edit-file-info-download"},destroy:function(){var a=t.editFileInfo,i=a.dataAttr,o=a.selectors;e(o.img).attr("src","").removeAttr("width").removeAttr("height"),e(o.icon).attr(i.ext,"").html(""),e(o.download).attr("href",""),e(o.oldName).val(""),e(o.newName).val(""),e(o.caption).val("").trigger("keyup")},init:function(){
var a=t.editFileInfo,i=t.util,o=a.dataAttr,n=a.selectors,r=e(this).closest("["+o.fileInfo+"]").data(i.dataCamelCase(o.fileInfo)),s=e(n.modal);r.img?e(n.img).attr("src",r.img.src).attr("width",r.img.width).attr("height",r.img.height):e(n.icon).attr(o.ext,r.extension).append(e("<i></i>",{class:"am-u-icon-file-o am-files-icon-"+r.extension})),e(n.oldName).val(r.filename),e(n.newName).val(r.filename),e(n.caption).val(r.caption).trigger("keyup"),e(n.download).attr("href",r.download),
s.off("hide.uk.modal.automad.editFileInfo"),s.on("hide.uk.modal.automad.editFileInfo",a.destroy)},submit:function(i){var o=t.editFileInfo,n=o.selectors,r=e(i.target),s={url:e(n.modal).data(t.util.dataCamelCase(o.dataAttr.url)),"old-name":e(n.oldName).val(),"new-name":e(n.newName).val(),caption:e(n.caption).val()};r.prop("disabled",!0),e.post("?ajax=edit_file_info",s,(function(i){r.prop("disabled",!1),i.error&&t.notify.error(i.error),e(n.modal).on("hide.uk.modal.automad.editFileInfo",(function(){
o.destroy(),e(n.modal).closest("form").empty().submit()})),a.modal(n.modal).hide()}),"json")}},e(document).on("click",'a[href="'+t.editFileInfo.selectors.modal+'"]',t.editFileInfo.init),e(document).on("click",t.editFileInfo.selectors.button,t.editFileInfo.submit)}(window.Automad=window.Automad||{},jQuery,UIkit),function(t,e,a){t.form={unsavedClassPrefix:"am-unsaved-",unsavedClassInput:"am-form-changed",dataAttr:{handler:"data-am-handler",dashboard:"data-am-dashboard",url:"data-am-url",
submit:"data-am-submit",init:"data-am-init",initOn:"data-am-init-on",autoSubmit:"data-am-auto-submit",close:"data-am-close-on-success",confirm:"data-am-confirm",enter:"data-am-enter",watchExclude:"data-am-watch-exclude",modalOnChange:"data-am-modal-on-change"},ajaxPost:function(i){var o=t.form,n=e(i.target),r=n.data(t.util.dataCamelCase(o.dataAttr.handler)),s=n.data(t.util.dataCamelCase(o.dataAttr.dashboard)),l=n.data(t.util.dataCamelCase(o.dataAttr.url)),d=n.serializeArray();l&&d.push({
name:"url",value:l}),void 0===s&&(s=""),e.post(s+"?ajax="+r,d,(function(i){if(i.redirect&&(window.location.href=i.redirect),i.reload&&window.location.reload(),i.redirect||i.reload)return!1;if(i.html&&n.html(i.html),i.trigger&&e("html").trigger(i.trigger),i.error&&t.notify.error(i.error),i.success&&t.notify.success(i.success),!i.error){var r=n.data(t.util.dataCamelCase(o.dataAttr.close));r&&a.modal(r).hide()}}),"json").fail((function(a){var i=a.responseJSON
;i&&(i.trigger&&e("html").trigger(i.trigger),i.error&&t.notify.error(i.error))}))},confirm:function(i){i.preventDefault();var o=t.form,n=e(i.target),r=n.data(t.util.dataCamelCase(o.dataAttr.confirm));r&&n.find("input").length>0?a.modal.confirm(r,(function(){o.ajaxPost(i)})):o.ajaxPost(i)},init:function(){var i=e(document),o=t.form,n=o.dataAttr;i.on("submit","["+n.handler+"]",o.confirm),i.on("click","["+n.submit+"]",(function(a){var i=e(this).data(t.util.dataCamelCase(n.submit))
;a.preventDefault(),e("form["+n.handler+'="'+i+'"]').submit()})),i.ready((function(){e("["+t.form.dataAttr.init+"]").trigger("submit")})),i.on("ready ajaxComplete",(function(){e("html").off(".automadFormInitOn"),e("["+n.initOn+"]").each((function(){var a=e(this),i=a.data(t.util.dataCamelCase(n.initOn));e("html").on(i+".automadFormInitOn",(function(){a.empty().submit()}))}))})),i.on("keydown","["+n.handler+"] input",(function(t){13==t.which&&t.preventDefault()})),
i.on("keydown","["+n.enter+"]",(function(a){if(13==a.which){var i=e(a.target).data(t.util.dataCamelCase(n.enter));e(i).click()}})),i.on("change drop cut paste","["+n.autoSubmit+"] input, ["+n.autoSubmit+"] textarea, ["+n.autoSubmit+"] select",(function(t){e(t.target).closest("form").submit()})),i.on("ready",(function(){e("button["+n.submit+"]").prop("disabled",!0)})),i.on("ajaxComplete",(function(t,a,i){var r=i.url.replace("?ajax=","");e("button["+n.submit+'="'+r+'"]').prop("disabled",!0),
e("["+n.handler+'="'+r+'"]').find("."+o.unsavedClassInput).removeClass(o.unsavedClassInput)}));var r=function(){var a=e(this).closest("["+n.handler+"]").data(t.util.dataCamelCase(n.handler));e("html").addClass(o.unsavedClassPrefix+a),e("button["+n.submit+'="'+a+'"]:disabled, .am-inpage [type="submit"]').prop("disabled",!1),e(this).closest(".am-u-form-row, .am-inpage form").find(".am-u-form-label").addClass(o.unsavedClassInput)},s=`[${n.handler}]:not([${n.autoSubmit}])`,l=`:not([${n.watchExclude}])`
;i.on("drop cut paste keydown",`${s} input${l}, \n\t\t\t\t ${s} textarea${l}, \n\t\t\t\t .am-inpage form *`,r),i.on("change",`${s} [type="hidden"]${l}, \n\t\t\t\t ${s} [type="checkbox"]${l},\n\t\t\t\t ${s} [type="radio"]${l},\n\t\t\t\t ${s} [type="color"]${l},\n\t\t\t\t ${s} select${l},  \n\t\t\t\t .am-inpage form *`,r),i.on("submit","["+n.handler+"], .am-inpage form",(function(){var a=e(this).data(t.util.dataCamelCase(n.handler));e("html").removeClass(o.unsavedClassPrefix+a)})),
window.onbeforeunload=function(){if(e('html[class*="am-unsaved-"]').length)return"You have unsaved chages!"},i.on("change","["+n.modalOnChange+"]",(function(){a.modal(e(this).data(t.util.dataCamelCase(n.modalOnChange))).show()})),i.on("ready ajaxComplete",o.modalEvents),i.on("ready ajaxComplete",(function(){setTimeout((function(){e(".CodeMirror:not(.am-change-event)").each((function(){var t=e(this),a=t[0].CodeMirror,i=t.prev();t.addClass("am-change-event"),a.on("change",(function(){
i.trigger("change")}))}))}),500)}))},modalEvents:function(){var a=e(".am-u-modal");a.off("show.uk.modal.automad.form"),a.off("hide.uk.modal.automad.form"),a.on({"show.uk.modal.automad.form":function(){if(e(this).find("["+t.form.dataAttr.init+"]").each((function(){e(this).empty().html('<i class="am-u-icon-circle-o-notch am-u-icon-spin am-u-icon-small"></i>').submit()})),e("html.am-u-notouch").length){var a=e(this);setTimeout((function(){
a.find('textarea, input:not(:disabled, [type="hidden"], [type="search"])').first().focus()}),500)}},"hide.uk.modal.automad.form":function(){e(this).find("form").each((function(){var a=e(this).data(t.util.dataCamelCase(t.form.dataAttr.handler));e("html").removeClass(t.form.unsavedClassPrefix+a),this.reset()}))}})}},t.form.init()}(window.Automad=window.Automad||{},jQuery,UIkit),function(t,e,a){a.on("beforeready.uk.dom",(function(){e.extend(a.components.formSelect.prototype.defaults,{activeClass:""
})}))}(window.Automad=window.Automad||{},jQuery,UIkit),function(t,e){t.fullscreen={classes:{fullscreenWrapper:"am-fullscreen",fullscreenHtml:"am-fullscreen-page"},dataAttr:{toggle:"data-am-fullscreen"},init:function(){var a=t.fullscreen,i=a.classes;e(document).on("click","["+a.dataAttr.toggle+"]",(function(){var t=e("html");t.hasClass(i.fullscreenHtml)?(t.removeClass(i.fullscreenHtml),e("."+i.fullscreenWrapper).removeClass(i.fullscreenWrapper)):(t.addClass(i.fullscreenHtml),
e(this).parent().addClass(i.fullscreenWrapper)),e(window).trigger("resize"),setTimeout((function(){e(window).trigger("resize")}),500)}))}},t.fullscreen.init()}(window.Automad=window.Automad||{},jQuery),function(t,e,a){t.import={selectors:{modal:"#am-import-modal",button:"#am-import-modal .am-u-form button",input:'#am-import-modal [name="importUrl"]'},dataAttr:{url:"data-am-url"},init:function(){var i=t.import;e(document).on("click",i.selectors.button,(function(){
var o=e(i.selectors.modal),n=e(i.selectors.input).val(),r=o.closest("form"),s=o.data(t.util.dataCamelCase(i.dataAttr.url));e.post("?ajax=import",{url:s,importUrl:n},(function(e){e.error?t.notify.error(e.error):(o.on("hide.uk.modal.automad.import",(function(){o.off("automad.import"),r.empty().submit()})),a.modal(i.selectors.modal).hide())}),"json")}))}},t.import.init()}(window.Automad=window.Automad||{},jQuery,UIkit),function(t,e){t.inPage={selectors:{modal:"#am-inpage-edit-modal",
fields:"#am-inpage-edit-fields",menubar:".am-inpage-menubar",dragHandle:".am-drag-handle"},dataAttr:{content:"data-am-inpage-content",handler:"data-am-inpage-handler"},modal:{init:function(){var a=e(this),i=t.inPage,o=t.util,n=a.data(o.dataCamelCase(i.dataAttr.content)),r=e(i.selectors.modal).find("form"),s=r.data(o.dataCamelCase(i.dataAttr.handler)),l=e("<i></i>",{class:"am-u-icon-circle-o-notch am-u-icon-spin am-u-icon-small"}).appendTo(r);e(i.selectors.fields).remove(),e.post(s,n,(function(t){
if(t.html){var a=e(t.html).appendTo(r).hide();setTimeout((function(){e(window).resize()}),400),setTimeout((function(){l.remove(),a.fadeIn(300,(function(){e(window).resize(),a.find(".am-u-form-controls, textarea, [contenteditable]").first().focus()}))}),600)}}),"json")},submit:function(a){a.preventDefault();var i=e(a.target),o=i.data(t.util.dataCamelCase(t.inPage.dataAttr.handler)),n=i.serializeArray();e.post(o,n,(function(t){t.redirect&&(window.location.href=t.redirect)}),"json")}},menubar:{
init:function(){var a=t.inPage.selectors;e(a.menubar).draggabilly({handle:a.dragHandle})}}},e(document).on("click",'[href="'+t.inPage.selectors.modal+'"]',t.inPage.modal.init),e(document).on("submit","["+t.inPage.dataAttr.handler+"]",t.inPage.modal.submit),e(document).on("ready",t.inPage.menubar.init)}(window.Automad=window.Automad||{},jQuery),function(t){t(document).ready((function(){t("#am-no-js").remove()}))}(jQuery),function(t,e){t.keyCombos={init:function(){
e(window).bind("keydown",(function(t){if(t.ctrlKey||t.metaKey)switch(String.fromCharCode(t.which).toLowerCase()){case"s":t.preventDefault(),e('.am-navbar [data-am-submit], .am-inpage .am-u-open [type="submit"]').click()}if((t.ctrlKey||t.metaKey)&&t.shiftKey)switch(String.fromCharCode(t.which).toLowerCase()){case" ":t.preventDefault(),e('.am-navbar-search [name="query"]').focus()}}))}},t.keyCombos.init()}(window.Automad=window.Automad||{},jQuery),function(t,e,a){t.link={dataAttr:{
form:"data-am-link",field:"data-am-link-field"},modalSelector:"#am-link-modal",init:function(){var a=t.link,i=a.dataAttr;e(document).on("click","["+i.field+"] button",(function(){a.click(this)}))},click:function(a){var i=e(a).parent().find("input");t.link.dialog(i,(function(t){i.val(t).trigger("keydown")}))},dialog:function(i,o){var n=a.modal(t.link.modalSelector);n.show().find("input").val(""),n.on("click.automad.link",".am-u-form button",(function(){var t;t=e(this).parent().find("input").val(),
n.isActive()&&("function"==typeof o&&o(t),n.hide())})),n.on("hide.uk.modal.automad.link",(function(){i.focus(),n.off(".automad.link")}))},autocomplete:function(){var i=t.link.dataAttr.form,o=e("["+i+"]").first(),n=o.data(t.util.dataCamelCase(i));o.length>0&&e.post(n,(function(t){var e=o.find(".am-u-autocomplete").first(),i={source:t,minLength:1};a.autocomplete(e,i).on("selectitem.uk.autocomplete",(function(t,e){o.find("input").val(e.value),o.find("button").click()}))}),"json")}},t.link.init(),
e(document).on("ready",t.link.autocomplete)}(window.Automad=window.Automad||{},jQuery,UIkit),
/*!
 *  Markdown editor based in the htmleditor component of UIkit.
 * 
 *	UIkit 2.27.5 | http://www.getuikit.com | (c) 2014 YOOtheme | MIT License
 */
function(t){var e;window.UIkit2&&(e=t(UIkit2)),"function"==typeof define&&define.amd&&define("uikit-markdowneditor",["uikit"],(function(){return e||t(UIkit2)}))}((function(t){"use strict";var e=[];return t.component("markdowneditor",{defaults:{mode:"split",autocomplete:!0,enablescripts:!1,height:500,maxsplitsize:1e3,codemirror:{mode:"gfm",lineWrapping:!0,dragDrop:!1,autoCloseTags:!1,matchTags:!1,autoCloseBrackets:!0,matchBrackets:!0,indentUnit:4,indentWithTabs:!0,tabSize:4,hintOptions:{
completionSingle:!1},extraKeys:{Enter:"newlineAndIndentContinueMarkdownList"},styleSelectedText:!0},toolbar:["bold","italic","link","image","blockquote","listUl","listOl","h1","h2","h3"]},boot:function(){t.ready((function(e){t.$("textarea[data-am-u-markdowneditor]",e).each((function(){var e=t.$(this);e.data("markdowneditor")||t.markdowneditor(e,t.Utils.options(e.attr("data-am-u-markdowneditor")))}))}))},init:function(){var a=this,i=t.components.markdowneditor.template
;this.CodeMirror=this.options.CodeMirror||CodeMirror,this.buttons={},this.markdowneditor=t.$(i),this.content=this.markdowneditor.find(".am-u-markdowneditor-content"),this.toolbar=this.markdowneditor.find(".am-u-markdowneditor-toolbar"),this.preview=this.markdowneditor.find(".am-u-markdowneditor-preview").children().eq(0),this.code=this.markdowneditor.find(".am-u-markdowneditor-code"),this.element.before(this.markdowneditor).appendTo(this.code),
this.editor=this.CodeMirror.fromTextArea(this.element[0],this.options.codemirror),this.editor.markdowneditor=this,this.editor.on("change",t.Utils.debounce((function(){a.render()}),150)),this.editor.on("change",(function(){a.editor.save(),a.element.trigger("input")})),this.code.find(".CodeMirror").css("height",this.options.height),this.preview.container=this.preview,t.$win.on("resize load",t.Utils.debounce((function(){a.fit()}),200))
;var o=a.preview.parent(),n=this.code.find(".CodeMirror-sizer"),r=this.code.find(".CodeMirror-scroll").on("scroll",t.Utils.debounce((function(){if("tab"!=a.markdowneditor.attr("data-mode")){var t=n.height()-r.height(),e=(o[0].scrollHeight-o.height())/t,i=r.scrollTop()*e;o.scrollTop(i)}}),10));this.markdowneditor.on("click",".am-u-markdowneditor-button-code, .am-u-markdowneditor-button-preview",(function(e){e.preventDefault(),
"tab"==a.markdowneditor.attr("data-mode")&&(a.markdowneditor.find(".am-u-markdowneditor-button-code, .am-u-markdowneditor-button-preview").removeClass("am-u-active").filter(this).addClass("am-u-active"),a.activetab=t.$(this).hasClass("am-u-markdowneditor-button-code")?"code":"preview",a.markdowneditor.attr("data-active-tab",a.activetab),a.editor.refresh())})),this.markdowneditor.on("click","a[data-markdowneditor-button]",(function(){
a.code.is(":visible")&&a.trigger("action."+t.$(this).data("markdowneditor-button"),[a.editor])})),this.preview.parent().css("height",this.code.height()),this.options.autocomplete&&this.CodeMirror.showHint&&this.CodeMirror.hint&&this.CodeMirror.hint.html&&this.editor.on("inputRead",t.Utils.debounce((function(){var t=a.editor.getDoc().getCursor();a.CodeMirror.innerMode(a.editor.getMode(),a.editor.getTokenAt(t).state).mode.name}),100)),this.debouncedRedraw=t.Utils.debounce((function(){a.redraw()
}),5),this.on("init.uk.component",(function(){a.debouncedRedraw()})),this.element.attr("data-am-u-check-display",1).on("display.uk.check",function(t){this.markdowneditor.is(":visible")&&this.fit()}.bind(this)),e.push(this)},addButton:function(t,e){this.buttons[t]=e},addButtons:function(e){t.$.extend(this.buttons,e)},_buildtoolbar:function(){if(this.options.toolbar&&this.options.toolbar.length){var t=this,e=[];this.toolbar.empty(),this.options.toolbar.forEach((function(a){if(t.buttons[a]){
var i=t.buttons[a].title?t.buttons[a].title:a;e.push('<li><a data-markdowneditor-button="'+a+'" title="'+i+'" data-am-u-tooltip>'+t.buttons[a].label+"</a></li>")}})),this.toolbar.html(e.join("\n"))}},fit:function(){var t=this.options.mode;"split"==t&&this.markdowneditor.width()<this.options.maxsplitsize&&(t="tab"),"tab"==t&&(this.activetab||(this.activetab="code",this.markdowneditor.attr("data-active-tab",this.activetab)),
this.markdowneditor.find(".am-u-markdowneditor-button-code, .am-u-markdowneditor-button-preview").removeClass("am-u-active").filter("code"==this.activetab?".am-u-markdowneditor-button-code":".am-u-markdowneditor-button-preview").addClass("am-u-active")),this.editor.refresh(),this.preview.parent().css("height",this.code.height()),this.markdowneditor.attr("data-mode",t)},redraw:function(){this._buildtoolbar(),this.render(),this.fit()},getMode:function(){return this.editor.getOption("mode")},render:function(){
if(this.currentvalue=this.editor.getValue(),this.options.enablescripts||(this.currentvalue=this.currentvalue.replace(/<(script|style)\b[^<]*(?:(?!<\/(script|style)>)<[^<]*)*<\/(script|style)>/gim,"")),!this.currentvalue)return this.element.val(""),void this.preview.container.html("");this.trigger("render",[this]),this.trigger("renderLate",[this]),this.preview.container.html(this.currentvalue)},addShortcut:function(e,a){var i={};return t.$.isArray(e)||(e=[e]),e.forEach((function(t){i[t]=a})),
this.editor.addKeyMap(i),i},addShortcutAction:function(t,e){var a=this;this.addShortcut(e,(function(){a.element.trigger("action."+t,[a.editor])}))},replaceSelection:function(t){var e=this.editor.getSelection();if(!e.length){for(var a=this.editor.getCursor(),i=this.editor.getLine(a.line),o=a.ch,n=o;n<i.length&&/[\w$]+/.test(i.charAt(n));)++n;for(;o&&/[\w$]+/.test(i.charAt(o-1));)--o;var r=o!=n&&i.slice(o,n);r&&(this.editor.setSelection({line:a.line,ch:o},{line:a.line,ch:n}),e=r)}
var s=t.replace("$1",e);this.editor.replaceSelection(s,"end"),this.editor.focus()},replaceLine:function(t){var e=this.editor.getDoc().getCursor(),a=this.editor.getLine(e.line),i=t.replace("$1",a);this.editor.replaceRange(i,{line:e.line,ch:0},{line:e.line,ch:a.length}),this.editor.setCursor({line:e.line,ch:i.length}),this.editor.focus()},save:function(){this.editor.save()}}),
t.components.markdowneditor.template=['<div class="am-u-markdowneditor am-u-clearfix" data-mode="split">','<div class="am-u-markdowneditor-navbar">','<ul class="am-u-markdowneditor-navbar-nav am-u-markdowneditor-toolbar"></ul>','<ul class="am-u-markdowneditor-navbar-nav">','<li class="am-u-markdowneditor-button-code"><a title="Markdown" data-am-u-tooltip>','<svg xmlns="http://www.w3.org/2000/svg" width="208" height="128" viewBox="0 0 208 128"><rect width="198" height="118" x="5" y="5" ry="10" stroke-width="10" fill="none"/><path d="M30 98V30h20l20 25 20-25h20v68H90V59L70 84 50 59v39zm125 0l-30-33h20V30h20v35h20z"/></svg>',"</a></li>",'<li class="am-u-markdowneditor-button-preview"><a title="Preview" data-am-u-tooltip><i class="am-u-icon-file-text"></i></a></li>',"</ul>","</div>",'<div class="am-u-markdowneditor-content">','<div class="am-u-markdowneditor-code"></div>','<div class="am-text am-u-markdowneditor-preview"><div></div></div>',"</div>","</div>"].join(""),
t.plugin("markdowneditor","base",{init:function(t){t.addButtons({bold:{title:"Bold[Ctrl + B]</small>",label:"<strong>B</strong>"},italic:{title:"Italic[Ctrl + I]</small>",label:"<strong><em>I</em></strong>"},blockquote:{title:"Blockquote",label:'<i class="am-u-icon-quote-right"></i>'},link:{title:"Link[Ctrl + L]</small>",label:'<i class="am-u-icon-link"></i>'},image:{title:"Image",label:'<i class="am-u-icon-picture-o"></i>'},listUl:{title:"Unordered List",label:'<i class="am-u-icon-list-ul"></i>'},
listOl:{title:"Ordered List",label:'<i class="am-u-icon-list-ol"></i>'},h1:{title:"Heading 1",label:"H1"},h2:{title:"Heading 2",label:"H2"},h3:{title:"Heading 3",label:"H3"}}),t.addShortcutAction("bold",["Ctrl-B","Cmd-B"]),t.addShortcutAction("italic",["Ctrl-I","Cmd-I"]),t.addShortcutAction("link",["Ctrl-L","Cmd-L"]);var e=t.options.mdparser||window.marked||null;function a(e,a,i){t.on("action."+e,(function(){t["replaceLine"==i?"replaceLine":"replaceSelection"](a)}))}e&&(a("h1","# $1"),
a("h2","## $1"),a("h3","### $1"),a("bold","**$1**"),a("italic","*$1*"),a("strike","~~$1~~"),a("blockquote","> $1","replaceLine"),t.on("action.link",(function(){t.editor.AutomadLink()})),t.on("action.image",(function(){t.editor.AutomadImage()})),t.on("action.listUl",(function(){for(var e=t.editor,a=e.getDoc().getCursor(!0),i=e.getDoc().getCursor(!1),o=a.line;o<i.line+1;o++)e.replaceRange("* "+e.getLine(o),{line:o,ch:0},{line:o,ch:e.getLine(o).length});e.setCursor({line:i.line,
ch:e.getLine(i.line).length}),e.focus()})),t.on("action.listOl",(function(){var e,a=t.editor,i=a.getDoc().getCursor(!0),o=a.getDoc().getCursor(!1),n=1;i.line>0&&((e=a.getLine(i.line-1).match(/^(\d+)\./))&&(n=Number(e[1])+1));for(var r=i.line;r<o.line+1;r++)a.replaceRange(n+". "+a.getLine(r),{line:r,ch:0},{line:r,ch:a.getLine(r).length}),n++;a.setCursor({line:o.line,ch:a.getLine(o.line).length}),a.focus()})),t.on("renderLate",(function(){
t.currentvalue=t.currentvalue.replace(/!\[([^\]]*)\]\(([^\)]+)\)/g,(function(t,e,a){return"!["+e+"]("+Automad.util.resolvePath(a)+")"})),t.currentvalue=t.currentvalue.replace(/(^|[^!])\[(!\[[^\]]*\]\([^\)]*\)|[^\]]*)\]\(([^\)]+)\)/g,(function(t,e,a,i){return e+"["+a+"]("+Automad.util.resolveUrl(i)+")"})),t.currentvalue=e(t.currentvalue)})),t.on("cursorMode",(function(e,a){var i=t.editor.getDoc().getCursor();t.editor.getTokenAt(i).state.base.htmlState||(a.mode="markdown")})))}}),t.markdowneditor
})),function(t,e){t.missingImg={init:function(){e(document).ajaxComplete((function(t,a,i){(i.url.includes("page_data")||i.url.includes("shared_data")||i.url.includes("inpage_edit"))&&setTimeout((function(){e(".am-u-form-row img").each((function(){var t=e(this),a=t.attr("src");this.complete&&e("<img>",{src:a,error:function(){t.addClass("am-u-hidden"),e("<span>").text(" Missing: "+a.split(/[\\/]/).pop()).insertAfter(t).addClass("am-u-text-danger")}})}))}),1500)}))}},t.missingImg.init()
}(window.Automad=window.Automad||{},jQuery),function(t,e,a){t.notify={error:function(t){a.notify(t,{timeout:0,pos:"top-right",status:"danger"})},success:function(t){a.notify(t,{timeout:3e3,pos:"top-right",status:"success"})}}}(window.Automad=window.Automad||{},jQuery,UIkit),function(t,e,a){t.packages={dataAttr:{packages:"data-am-packages",filter:"data-am-packages-filter"},composerDone:function(){e("html").on("composerDone",(function(){t.packages.get(),window.setTimeout((function(){
a.modal(".am-u-modal.am-u-open").hide()}),500)}))},filter:function(){var i=t.packages,o=e("["+i.dataAttr.filter+"]"),n=function(){var t=o.val().toLowerCase().split(" ");e("["+i.dataAttr.packages+"]").find("li").filter((function(){for(var a=e(this).text().toLowerCase(),i=!0,o=0;o<t.length;o++)if(-1==a.indexOf(t[o])){i=!1;break}e(this).toggle(i),e(window).trigger("resize")}))};e(document).ajaxComplete((function(t,e,a){"?ajax=get_packages"==a.url&&n()})),o.on("keyup",a.Utils.debounce(n,250))},
get:function(){var a=t.packages;e("["+a.dataAttr.packages+"]").each((function(){var t=e(this);e.get("?ajax=get_packages",(function(a){a.html&&(t.html(a.html),e.get("?ajax=outdated_packages",(function(t){if(t.buffer)try{var a=JSON.parse(t.buffer).installed;for(let t=0;t<a.length;t++)e('[data-package="'+a[t].name+'"] form.am-u-hidden').removeClass("am-u-hidden")}catch(t){return!1}}),"json")),a.error&&t.html('<div class="am-u-alert am-u-alert-danger">'+a.error+"</div>")}),"json")}))},init:function(){
t.packages.composerDone(),t.packages.get(),t.packages.filter()}},e(document).on("ready",t.packages.init)}(window.Automad=window.Automad||{},jQuery,UIkit),function(t){t(document).on("click",".am-remove-parent",(function(){var e=t(this).parent();e.find("input, textarea, select").trigger("change"),e.remove(),t(document).trigger("count.automad")}))}(jQuery),function(t,e){t.scrollPosition={init:function(){var t=e(document),a=e("html");e(window).scroll((function(){
this.scrolling&&clearTimeout(this.scrolling),this.scrolling=setTimeout((function(){e(this).trigger("scrolled.automad")}),10)})),e(window).on("load scrolled.automad",(function(){var e=t.scrollTop(),i="am-scrolled";e>30?a.addClass(i):a.removeClass(i),e>60?a.addClass("am-scrolled-secondary"):a.removeClass("am-scrolled-secondary")}))}},e(document).ready(t.scrollPosition.init)}(window.Automad=window.Automad||{},jQuery),function(t,e){t.scrollbars={defaults:{scrollToItem:!1},
dataAttr:"data-am-scroll-box",init:function(){var a=t.scrollbars,i=t.util;e("["+a.dataAttr+"]").each((function(){var t=e(this),o=t.data(i.dataCamelCase(a.dataAttr)),n=e.extend({},a.defaults,o);if(t.am_mCustomScrollbar({scrollbarPosition:"inside",theme:"minimal-dark",autoHideScrollbar:!0,scrollInertia:50,scrollButtons:{enable:!1},callbacks:{onScroll:function(){t.trigger("scrolled.automad")},onUpdate:function(){t.trigger("scrolled.automad")}}}),n.scrollToItem){var r=t.find(n.scrollToItem)
;r.length&&setTimeout((function(){r.offset().top+180>e(window).height()&&t.am_mCustomScrollbar("scrollTo",(function(){return r.offset().top-e(window).height()+180}),{scrollInertia:200})}),150)}}))}},e(document).ready(t.scrollbars.init)}(window.Automad=window.Automad||{},jQuery),function(t,e,a){t.search={selector:"[data-am-search]",submitForm:function(t){t.preventDefault();var a=e(t.target).closest("form");setTimeout((function(){a.submit()}),50)}},e(document).on("ready",(function(){
e(".am-dashboard").length>0&&e.post("?ajax=autocomplete_search",(function(i){var o={source:i,minLength:2};e(t.search.selector+" .am-u-autocomplete").each((function(){a.autocomplete(e(this),o)}))}),"json")})),e(document).on("keydown",t.search.selector+' .am-u-autocomplete input[type="search"]',(function(e){13==e.which&&t.search.submitForm(e)})),e(document).on("click",t.search.selector+" .am-u-dropdown a",t.search.submitForm)}(window.Automad=window.Automad||{},jQuery,UIkit),function(t,e,a){
t.selectImage={dataAttr:{field:"data-am-select-image-field"},modalSelector:"#am-select-image-modal",init:function(){var a=t.selectImage,i=a.dataAttr;e(document).on("click","["+i.field+"] button",(function(){var t=e(this).parent().find("input");a.dialog(t,!1,(function(e){t.val(e).trigger("keydown")}))}))},dialog:function(i,o,n){var r=t.selectImage.modalSelector,s=a.modal(r),l=function(t,e){if(s.isActive()){if(o&&"label"==e.tagName.toLowerCase()){
var a=s.find('[name="width"]').val(),i=s.find('[name="height"]').val();a&&i&&(t=t+"?"+a+"x"+i)}"function"==typeof n&&n(t),s.hide()}};e(r).removeClass("am-select-image-resize-hide"),o||e(r).addClass("am-select-image-resize-hide");var d=e(".am-inpage");if(d.length>0){var c=d.find('[name="context"]').val();s.find("form").data("amUrl",c)}s.show(),s.on("click.automad.selectImage","form button",(function(){l(e(this).parent().find("input").val(),this)})),
s.on("click.automad.selectImage","form label",(function(){l(e(this).find("input").val(),this)})),s.on("hide.uk.modal.automad.selectImage",(function(){i&&i.focus(),s.off(".automad.selectImage")}))}},t.selectImage.init()}(window.Automad=window.Automad||{},jQuery,UIkit),function(t,e){t.siteTree={class:{active:"am-u-active",iconOpen:"am-tree-icon-open",iconClose:"am-tree-icon-close",toggle:"am-tree-toggle"},dataAttr:"data-am-tree",urlAsValue:function(a,i){
var o=t.siteTree,n=a.find('a[href^="?"]'),r=a.find("."+o.class.active+' > a[href^="?"]');r.length>0&&i.val(decodeURIComponent(r.attr("href").split("=")[1])),n.click((function(t){t.preventDefault();var n=e(this),r=n.parent(),s=decodeURIComponent(n.attr("href").split("=")[1]);a.find("."+o.class.active).removeClass(o.class.active),r.addClass(o.class.active),r.find("> a").has("."+o.class.iconOpen).click(),i.val(s).trigger("change")}))},init:function(){var a=t.siteTree
;e("["+a.dataAttr+"]").each((function(){var i=e(this),o=i.data(t.util.dataCamelCase(a.dataAttr));i.find("li li").has("li").each((function(){var t=e(this),i=t.children("ul"),o=e("<a></a>",{class:a.class.toggle,href:"#"}).prependTo(t),n=e("<i></i>").prependTo(o);t.hasClass(a.class.active)||t.find("."+a.class.active).length>0?n.addClass(a.class.iconClose):(n.addClass(a.class.iconOpen),i.hide()),o.click((function(t){t.preventDefault(),i.toggle(),n.toggleClass(a.class.iconOpen+" "+a.class.iconClose)
}))})),o.length>0&&a.urlAsValue(i,e(o))}))}},e(document).ready(t.siteTree.init)}(window.Automad=window.Automad||{},jQuery),function(t,e){t.status={dataAttr:"data-am-status",get:function(){var a=t.status;e("["+a.dataAttr+"]").each((function(){var i=e(this),o=i.data(t.util.dataCamelCase(a.dataAttr));e.post("?ajax=status",{item:o},(function(t){i.html(t.status)}),"json")}))},init:function(){var a=e(document),i=t.status;a.ready((function(){i.get()})),a.ajaxComplete((function(t,e,a){
["?ajax=users","?ajax=add_user","?ajax=edit_headless_template","?ajax=reset_headless_template","?ajax=update_config","?ajax=get_packages","?ajax=update_system"].includes(a.url)&&i.get()}))}},t.status.init()}(window.Automad=window.Automad||{},jQuery),function(t,e,a){t.switcher={dataAttr:{switcher:"data-am-u-switcher",tab:"data-am-tab"},getActiveTab:function(){if(window.location.hash){var a=window.location.hash.substr(1)
;return e.isNumeric(a)?parseInt(a):e("["+t.switcher.dataAttr.tab+'="'+a+'"]').index()}return 0}},a.on("beforeready.uk.dom",(function(){e.extend(a.components.switcher.prototype.defaults,{active:t.switcher.getActiveTab()})})),e(window).on("hashchange",(function(){var a=e("["+t.switcher.dataAttr.switcher+"]"),i=a.children(".am-u-active"),o=t.switcher.getActiveTab();i.index()!=o&&o>0&&a.children("button").eq(o).click()})),e(document).on("ready",(function(){
e("["+t.switcher.dataAttr.switcher+"]").on("show.uk.switcher",(function(e,a){window.location.hash=a.data(t.util.dataCamelCase(t.switcher.dataAttr.tab))}))}))}(window.Automad=window.Automad||{},jQuery,UIkit),function(t,e,a){t.tags={containerId:"am-taggle",inputId:"am-input-data-tags",dataAttr:"data-am-tags",init:function(){var i=t.tags,o=e("#"+i.containerId);if(o.length){var n=t.util,r=e("#"+i.inputId),s=o.data(n.dataCamelCase(i.dataAttr)),l=new Taggle(i.containerId,{tags:s.tags,preserveCase:!0,
submitKeys:[188,9],focusInputOnContainerClick:!0,placeholder:"",saveOnBlur:!1,clearOnBlur:!0,onTagAdd:function(){d(),r.trigger("change")},onTagRemove:function(){d(),r.trigger("change")}}),d=function(){r.val(l.getTagValues().sort().join(", "))};d(),o.removeAttr("id"),$inputWrapper=e(l.getInput()).wrap('<div class="am-u-autocomplete"></div>').parent(),$autocomplete=a.autocomplete($inputWrapper,{source:s.autocomplete,minLength:1}),$autocomplete.on("selectitem.uk.autocomplete",(function(t,e,a){
l.add(e.value)})),e(l.getInput()).on("change",(function(){e(this).val("")}))}}},e(document).on("ajaxComplete",t.tags.init)}(window.Automad=window.Automad||{},jQuery,UIkit),function(t,e){t.textarea={selector:"textarea.am-u-form-controls:not([data-am-u-markdowneditor]), textarea.cdx-input",handleTabs:function(t){if(9===t.keyCode){t.preventDefault(),t.stopPropagation();var a=this.selectionStart,i=this.selectionEnd,o=e(t.target),n=o.val();o.val(n.substring(0,a)+"\t"+n.substring(i)),
this.selectionStart=this.selectionEnd=a+1}},init:function(){var a=t.textarea,i=e(document),o=function(){e(a.selector).trigger("update.automad.textarea")};i.on("keyup focus focusout update.automad.textarea",a.selector,a.resize),i.on("drop cut paste",a.selector,(function(t){var a=e(t.target);setTimeout((function(t){a.trigger("update.automad.textarea")}),50)})),i.ajaxComplete(o),i.on("ready",o),i.on("click",".am-u-accordion-title",(function(){setTimeout(o,50)})),e(window).resize(o),
i.on("keydown",a.selector,a.handleTabs)},resize:function(t){var a=e(t.target),i=a.val().replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/\n/g,"<br />"),o=e("<div></div>").appendTo("body").hide().width(a.width()).html(i+" ").css({"white-space":"pre-wrap","word-wrap":"break-word","overflow-wrap":"break-word","font-family":a.css("font-family"),"font-size":a.css("font-size"),"line-height":a.css("line-height"),"letter-spacing":a.css("letter-spacing")});a.height(o.height()),o.remove()}},
t.textarea.init()}(window.Automad=window.Automad||{},jQuery),function(t,e){t.toggle={labelDataAttr:"data-am-toggle",class:{active:"am-u-active"},checkbox:function(a){t.toggle.update(e(a.target))},init:function(){e("["+t.toggle.labelDataAttr+"] input").each((function(){t.toggle.update(e(this))}))},radio:function(a){e('input[name="'+e(a.target).attr("name")+'"]').each((function(){t.toggle.update(e(this))}))},update:function(a){
var i=t.toggle,o=a.parent(),n=o.data(t.util.dataCamelCase(i.labelDataAttr));if(a.is(":checked")?o.addClass(i.class.active):o.removeClass(i.class.active),n){var r=e(n);a.is(":checked")?r.addClass(i.class.active):r.removeClass(i.class.active)}}},e(document).on("change","["+t.toggle.labelDataAttr+'] [type="checkbox"]',t.toggle.checkbox),e(document).on("change","["+t.toggle.labelDataAttr+'] [type="radio"]',t.toggle.radio),e(document).on("ready ajaxComplete",t.toggle.init)
}(window.Automad=window.Automad||{},jQuery),function(t,e){t.toggleDefault={dataAttr:"data-am-toggle-default",update:function(e){e.closest("["+t.toggleDefault.dataAttr+"]").attr("data-selected",e.find(":selected").val())},init:function(){e("["+t.toggleDefault.dataAttr+"] select").each((function(){t.toggleDefault.update(e(this))}))}},e(document).on("change","["+t.toggleDefault.dataAttr+"] select",(function(a){t.toggleDefault.update(e(this))})),
e(document).on("ready ajaxComplete",t.toggleDefault.init)}(window.Automad=window.Automad||{},jQuery),function(t,e,a){e(document).on("ready ajaxComplete",(function(){setTimeout((function(){e("html.am-u-touch [data-am-u-tooltip]").removeAttr("data-am-u-tooltip")}),200)})),a.on("beforeready.uk.dom",(function(){e.extend(a.components.tooltip.prototype.defaults,{src:function(t){var e=t.attr("title");return void 0!==e&&(/mac/i.test(window.navigator.userAgent)&&(e=e.replace("Ctrl","⌘")),
e=e.replace(/\[([^\]]+)\]/,"<div><small>$1</small></div>"),t.data("cached-title",e).removeAttr("title")),t.data("cached-title")}})}))}(window.Automad=window.Automad||{},jQuery,UIkit),function(t,e){t.upload={dataAttr:{url:"data-am-url",dropzoneText:"data-am-dropzone-text",browseText:"data-am-browse-text"},selectors:{modal:"#am-upload-modal",container:"#am-upload-container"},$modal:"",$container:"",$close:"",page:"",$dropzone:e("<div></div>",{class:"am-files-dropzone am-u-hidden-touch"}),
$input:e('<input type="file" multiple />'),$browse:e("<button></button>",{type:"button",class:"am-u-button am-u-button-success am-u-button-large am-u-width-1-1 am-u-margin-small-top"}),init:function(a){var i=t.upload,o=t.util,n=i.dataAttr;i.$modal=e(i.selectors.modal),i.$container=e(i.selectors.container).empty(),i.page=i.$modal.data(o.dataCamelCase(n.url)),i.$dropzone.html('<i class="am-u-icon-arrows"></i>&nbsp;&nbsp;'+i.$modal.data(o.dataCamelCase(n.dropzoneText))).appendTo(i.$container),
i.$input.appendTo(i.$dropzone).hide(),i.$browse.html('<i class="am-u-icon-folder-open"></i>&nbsp;&nbsp;'+i.$modal.data(o.dataCamelCase(n.browseText))).insertAfter(i.$dropzone).click((function(){return t.upload.$input.click(),!1})),i.$close=i.$modal.find(".am-u-modal-close"),i.plugin(),e(i.selectors.modal).on("hide.uk.modal",{$filesForm:i.$modal.closest("form")},i.refresh)},plugin:function(){var a=t.upload;a.$input.fileupload({url:"?ajax=upload",dataType:"json",dropZone:a.$dropzone,
sequentialUploads:!0,singleFileUploads:!0,formData:[{name:"url",value:a.page}],add:function(i,o){var n="";e.each(o.files,(function(e){n+='<div class="am-text-white am-u-text-truncate">'+o.files[e].name+'</div><div class="am-u-text-small am-u-text-muted">'+t.util.formatBytes(o.files[e].size)+"</div>"})),o.context=e("<div></div>",{class:"am-u-margin-top"}).appendTo(a.$container),e(n).appendTo(o.context),
e('<div class="am-u-progress am-u-progress-striped am-u-active"><div class="am-u-progress-bar"></div></div>').appendTo(o.context),o.context.find(".am-u-progress-bar").width("0px"),o.submit(),a.$close.prop("disabled",!0)},progress:function(t,e){var a=parseInt(e.loaded/e.total*100,10);e.context.find(".am-u-progress-bar").width(a+"%").text(a+" %")},stop:function(t){a.$close.prop("disabled",!1)},done:function(t,e){e.context.find(".am-u-progress").removeClass("am-u-progress-striped am-u-active"),
e.result.error?e.context.find(".am-u-progress").addClass("am-u-progress-danger").find(".am-u-progress-bar").text(e.result.error):e.context.find(".am-u-progress").addClass("am-u-progress-success")},fail:function(t,e){e.context.find(".am-u-progress").addClass("am-u-progress-danger").removeClass("am-u-progress-striped am-u-active"),e.context.find(".am-u-progress-bar").text("Error")}})},refresh:function(t){t.data.$filesForm.empty().submit()}},
e(document).on("click",'[href="'+t.upload.selectors.modal+'"]',t.upload.init),e(document).on("drop dragover",t.upload.selectors.modal,(function(t){t.preventDefault()}))}(window.Automad=window.Automad||{},jQuery),function(t,e){t.util={create:{element:function(t,e){for(var a=document.createElement(t),i=0;i<e.length;i++)a.classList.add(e[i]);return a},editable:function(e,a,i){var o=t.util.create.element("div",e);return o.contentEditable=!0,o.dataset.placeholder=a,o.innerHTML=i,o},
label:function(e,a=["am-block-label"]){var i=t.util.create.element("label",a);return i.textContent=e,i},select:function(e,a,i){var o=t.util.create.element("select",e),n=[];return a.forEach((function(t){let e,a,o="";t==i&&(o=" selected"),a=t.replace(/^[\/\\\\]/g,"").replace(/[\/\\\\]/g," > ").replace(/_/g," ").replace(".php",""),e=`<option value="${t}"${o}>${a}</option>`,n.push(e)})),o.innerHTML=n.join(""),o}},dataCamelCase:function(t){
return t=(t=t.replace(/data-/g,"")).replace(/\-[a-z]/g,(function(t){return t.charAt(1).toUpperCase()}))},formatBytes:function(t){return"number"!=typeof t?"":t>=1e9?(t/1e9).toFixed(2)+" gb":t>=1e6?(t/1e6).toFixed(2)+" mb":(t/1e3).toFixed(2)+" kb"},resolvePath:function(t){var a=e("[data-am-path]").data("amPath"),i=e("[data-am-base-url]"),o=".";return i.length&&(o=i.data("amBaseUrl")),void 0===a&&(a=""),t.includes("://")?t:t.startsWith("/")?o+t:o+"/pages"+a+t},resolveUrl:function(t){
var a=e("[data-am-url]").data("amUrl");return void 0===a&&(a=""),t.includes("://")?t:t.startsWith("/")?"."+t:"."+a+"/"+t},stripNbsp:function(t){return t.replace(/\&nbsp;/g," ").trim()}}}(window.Automad=window.Automad||{},jQuery),function(t,e,a){a.defineExtension("AutomadImage",(function(){var a=this;t.selectImage.dialog(a,!0,(function(t){a.replaceRange("![]("+t+")\n",a.getCursor()),e(a.getTextArea()).trigger("keydown")}))}))}(window.Automad=window.Automad||{},jQuery,CodeMirror),function(t,e,a){
a.defineExtension("AutomadLink",(function(){var a=this;t.link.dialog(a,(function(t){var i=a.getSelection();i||(i=t),a.replaceSelection("["+i+"]("+t+")"),e(a.getTextArea()).trigger("keydown")}))}))}(window.Automad=window.Automad||{},jQuery,CodeMirror);class AutomadButtons{constructor({data:t,api:e}){var a=Automad.util.create;this.api=e,this.data={primaryText:t.primaryText||"",primaryLink:t.primaryLink||"",secondaryText:t.secondaryText||"",secondaryLink:t.secondaryLink||"",
alignment:t.alignment||"left"},this.wrapper=document.createElement("div"),this.wrapper.classList.add("am-u-panel","am-u-panel-box"),
this.wrapper.innerHTML=`\n\t\t\t<div class="am-block-icon">${AutomadButtons.toolbox.icon}</div>\n\t\t\t<div class="am-block-title">${AutomadButtons.toolbox.title}</div>\n\t\t\t<hr>\n\t\t\t<ul class="am-u-grid am-u-grid-width-medium-1-2">\n\t\t\t\t<li>\n\t\t\t\t\t${a.label("Primary Button Text").outerHTML}\n\t\t\t\t\t${a.editable(["cdx-input","am-block-primary-text"],"",this.data.primaryText).outerHTML}\n\t\t\t\t\t${a.label("Primary Button Link").outerHTML}\n\t\t\t\t\t<div class="am-form-icon-button-input am-u-flex">\n\t\t\t\t\t\t<button type="button" class="am-u-button am-u-button-large">\n\t\t\t\t\t\t\t<i class="am-u-icon-link"></i>\n\t\t\t\t\t\t</button>\n\t\t\t\t\t\t<input type="text" class="am-block-primary-link am-u-form-controls am-u-width-1-1" value="${this.data.primaryLink}" />\n\t\t\t\t\t</div>\n\t\t\t\t</li>\n\t\t\t\t<li>\n\t\t\t\t\t${a.label("Secondary Button Text").outerHTML}\n\t\t\t\t\t${a.editable(["cdx-input","am-block-secondary-text"],"",this.data.secondaryText).outerHTML}\n\t\t\t\t\t${a.label("Secondary Button Link").outerHTML}\n\t\t\t\t\t<div class="am-form-icon-button-input am-u-flex">\n\t\t\t\t\t\t<button type="button" class="am-u-button am-u-button-large">\n\t\t\t\t\t\t\t<i class="am-u-icon-link"></i>\n\t\t\t\t\t\t</button>\n\t\t\t\t\t\t<input type="text" class="am-block-secondary-link am-u-form-controls am-u-width-1-1" value="${this.data.secondaryLink}" />\n\t\t\t\t\t</div>\n\t\t\t\t</li>\n\t\t\t</ul>`
;var i=this.wrapper.querySelectorAll("button");for(let t=0;t<i.length;++t)e.listeners.on(i[t],"click",(function(){Automad.link.click(i[t])}));this.inputs={primaryText:this.wrapper.querySelector(".am-block-primary-text"),primaryLink:this.wrapper.querySelector(".am-block-primary-link"),secondaryText:this.wrapper.querySelector(".am-block-secondary-text"),secondaryLink:this.wrapper.querySelector(".am-block-secondary-link")},this.settings=[{name:"left",
icon:'<svg width="16" height="11" viewBox="0 0 16 11"><path d="M1.069 0H13.33a1.069 1.069 0 0 1 0 2.138H1.07a1.069 1.069 0 1 1 0-2.138zm0 4.275H9.03a1.069 1.069 0 1 1 0 2.137H1.07a1.069 1.069 0 1 1 0-2.137zm0 4.275h9.812a1.069 1.069 0 0 1 0 2.137H1.07a1.069 1.069 0 0 1 0-2.137z" /></svg>'},{name:"center",
icon:'<svg width="16" height="11" viewBox="0 0 16 11"><path d="M1.069 0H13.33a1.069 1.069 0 0 1 0 2.138H1.07a1.069 1.069 0 1 1 0-2.138zm3.15 4.275h5.962a1.069 1.069 0 0 1 0 2.137H4.22a1.069 1.069 0 1 1 0-2.137zM1.069 8.55H13.33a1.069 1.069 0 0 1 0 2.137H1.07a1.069 1.069 0 0 1 0-2.137z"/></svg>'}]}static get sanitize(){return{primaryText:{},primaryLink:!1,secondaryText:{},secondaryLink:!1}}static get toolbox(){return{title:"Buttons",
icon:'<svg xmlns="http://www.w3.org/2000/svg" width="18px" height="15px" viewBox="0 0 18 15"><path d="M16,2.359c0,0,0,0.001,0,0.002C15,0.972,13.623,0,12,0H4C1.791,0,0,1.791,0,4v5c0,1.624,0.972,3,2.362,4 c-0.001,0-0.001,0-0.002,0C2.987,14,4.377,15,6,15h8c2.209,0,4-1.791,4-4V6C18,4.377,17,2.987,16,2.359z M2,4c0-1.103,0.897-2,2-2h8 c1.103,0,2,0.897,2,2v5c0,1.103-0.897,2-2,2H4c-1.103,0-2-0.897-2-2V4z"/><path d="M6,8H5C4.171,8,3.5,7.329,3.5,6.5S4.171,5,5,5h1c0.828,0,1.5,0.671,1.5,1.5S6.828,8,6,8z"/><path d="M11,8h-1C9.172,8,8.5,7.329,8.5,6.5S9.172,5,10,5h1c0.828,0,1.5,0.671,1.5,1.5S11.828,8,11,8z"/></svg>'
}}render(){return this.wrapper}save(){return Object.assign(this.data,{primaryText:this.inputs.primaryText.innerHTML,primaryLink:this.inputs.primaryLink.value.trim(),secondaryText:this.inputs.secondaryText.innerHTML,secondaryLink:this.inputs.secondaryLink.value.trim()})}renderSettings(){var t=document.createElement("div"),e=this;return t.classList.add("cdx-settings-1-2"),this.settings.map((function(a){var i=document.createElement("div");return i.innerHTML=a.icon,
i.classList.add(e.api.styles.settingsButton),i.classList.toggle(e.api.styles.settingsButtonActive,a.name===e.data.alignment),t.appendChild(i),i})).forEach((function(t,a,i){t.addEventListener("click",(function(){e.toggleTune(e.settings[a].name),i.forEach((t,a)=>{var i=e.settings[a].name;t.classList.toggle(e.api.styles.settingsButtonActive,i===e.data.alignment)})}))})),t}toggleTune(t){this.data.alignment=t}}class AutomadDelimiter{static get isReadOnlySupported(){return!0}static get contentless(){
return!0}constructor({data:t,config:e,api:a}){this.api=a,this._CSS={block:this.api.styles.block,wrapper:"ce-delimiter"},this._data={},this._element=this.drawView(),this.data=t}drawView(){let t=document.createElement("DIV");return t.classList.add(this._CSS.wrapper,this._CSS.block),t}render(){return this._element}save(t){return{}}static get toolbox(){return{
icon:'<svg width="18px" height="16px" viewBox="0 0 18 16"><path d="M17,9H1C0.45,9,0,8.55,0,8v0c0-0.55,0.45-1,1-1h16c0.55,0,1,0.45,1,1v0C18,8.55,17.55,9,17,9z"/><path d="M9,6C8.74,6,8.49,5.9,8.29,5.71l-3-3c-0.39-0.39-0.39-1.02,0-1.41s1.02-0.39,1.41,0L9,3.59l2.29-2.29 c0.39-0.39,1.02-0.39,1.41,0s0.39,1.02,0,1.41l-3,3C9.51,5.9,9.26,6,9,6z"/><path d="M12,15c-0.26,0-0.51-0.1-0.71-0.29L9,12.41l-2.29,2.29c-0.39,0.39-1.02,0.39-1.41,0s-0.39-1.02,0-1.41l3-3 c0.39-0.39,1.02-0.39,1.41,0l3,3c0.39,0.39,0.39,1.02,0,1.41C12.51,14.9,12.26,15,12,15z"/></svg>',
title:"Delimiter"}}}!function(t){t.embedServices={youtube:!0,codepen:!0,vimeo:!0,imgur:!0,instagram:!0,dailymotion:{regex:/https?:\/\/www\.dailymotion\.com\/video\/(\w+)(\?.*?)?$/,embedUrl:"https://www.dailymotion.com/embed/video/<%= remote_id %>/",html:'<iframe width="640" height="360" frameborder="0" allowFullScreen></iframe>',height:360,width:640},giphy:{regex:/https?:\/\/giphy\.com\/(?:gifs|videos)\/(?:[^\/]*\-)?([a-zA-Z0-9]+)$/,embedUrl:"https://giphy.com/embed/<%= remote_id %>/",
html:'<iframe width="600" height="480" frameborder="0" allowFullScreen></iframe>',height:480,width:600},mixcloud:{regex:/https?:\/\/www\.mixcloud\.com\/(.+)\/$/,embedUrl:"https://www.mixcloud.com/widget/iframe/?hide_cover=1&feed=/<%= remote_id %>/",html:'<iframe height="180" scrolling="no" frameborder="no" allowtransparency="true" allowfullscreen="true" style="width: 100%;"></iframe>',height:180,width:0},soundcloud:{regex:/(https:\/\/soundcloud\.com\/.+)$/,
embedUrl:"https://w.soundcloud.com/player/?url=<%= remote_id %>",html:'<iframe height="180" scrolling="no" frameborder="no" allowtransparency="true" allowfullscreen="true" style="width: 100%;"></iframe>',height:180,width:0},twitter:{regex:/^https?:\/\/twitter\.com\/(?:#!\/)?(\w+)\/status(?:es)?\/(\d+)(?:\/.*)?$/,embedUrl:"https://twitframe.com/show?url=https://twitter.com/<%= remote_id %>",
html:'<iframe width="500" height="300" style="display: block; width: 500px; border-bottom: 1px solid #E0E0E0; margin: 0 auto;" frameborder="0" scrolling="no" allowtransparency="true"></iframe>',height:0,width:0,id:t=>t.join("/status/")}}}(function(t){return t.editorJS=t.editorJS||{},t.editorJS}(window.Automad=window.Automad||{}));class AutomadFilelist{constructor({data:t}){var e=Automad.util.create;this.data={file:t.file||"",glob:t.glob||"*.*"},this.wrapper=document.createElement("div"),
this.wrapper.classList.add("am-u-panel","am-u-panel-box"),
this.wrapper.innerHTML=`\n\t\t\t<div class="am-block-icon">${AutomadFilelist.toolbox.icon}</div>\n\t\t\t<div class="am-block-title">${AutomadFilelist.toolbox.title}</div>\n\t\t\t<hr>\n\t\t\t${e.label("Select Template",["am-block-label","am-u-margin-top-remove"]).outerHTML}\n\t\t\t<div class="am-block-file-select am-u-form-select am-u-button am-u-text-left am-u-width-1-1" data-am-u-form-select>\n\t\t\t\t<i class="am-u-icon-file"></i>&nbsp;\n\t\t\t\t<span></span>\n\t\t\t\t${e.select(["am-block-file"],["default template"].concat(window.AutomadBlockTemplates.filelist),this.data.file).outerHTML}\n\t\t\t</div>\n\t\t\t${e.label("Glob Patterns - Separated by Comma").outerHTML}\n\t\t\t${e.editable(["cdx-input","am-block-glob"],"*.pdf, *.zip",this.data.glob).outerHTML}\n\t\t`,
this.inputs={file:this.wrapper.querySelector(".am-block-file"),glob:this.wrapper.querySelector(".am-block-glob")}}static get toolbox(){return{title:"Filelist",
icon:'<svg width="16px" height="18px" viewBox="0 0 16 18"><path d="M14.52,7.02c-1.57-1.57-0.99-0.99-2.5-2.5C10.89,3.39,10.25,3,8,3C7.5,3,7.19,3,7,3C4.79,3,3,4.79,3,7v7c0,2.21,1.79,4,4,4 h5c2.21,0,4-1.79,4-4c0,0,0-1.02,0-3C16,8.75,15.67,8.17,14.52,7.02z M14,14c0,1.1-0.9,2-2,2H7c-1.1,0-2-0.9-2-2V7c0-1.1,0.9-2,2-2 h2v1c0,2.21,1.79,4,4,4h1V14z"/><path d="M6,2h3.5C9.37,1.87,9.21,1.71,9.02,1.52C7.89,0.39,7.25,0,5,0C4.5,0,4.19,0,4,0C1.79,0,0,1.79,0,4v7 c0,1.48,0.81,2.75,2,3.45V11V4v0c0-1.1,0.9-2,2-2H6z"/></svg>'
}}static get sanitize(){return{file:!1,glob:!1}}render(){return this.wrapper}save(){var t=Automad.util.stripNbsp;return{file:this.inputs.file.value,glob:t(this.inputs.glob.innerHTML)}}}class AutomadGallery{constructor({data:t,api:e}){var a=Automad.util.create;this.api=e,this.data={globs:t.globs||"*.jpg, *.png, *.gif",width:t.width||250,stretched:void 0===t.stretched||t.stretched,cleanBottom:void 0===t.cleanBottom||t.cleanBottom},this.inputs={
globs:a.editable(["cdx-input"],"Enter one or more glob patterns",this.data.globs),width:a.editable(["cdx-input"],"Image width in px",this.data.width)};var i=document.createElement("div"),o=document.createElement("div");i.innerHTML=AutomadGallery.toolbox.icon,i.classList.add("am-block-icon"),o.innerHTML=AutomadGallery.toolbox.title,o.classList.add("am-block-title"),this.wrapper=document.createElement("div"),this.wrapper.classList.add("am-u-panel","am-u-panel-box"),this.wrapper.appendChild(i),
this.wrapper.appendChild(o),this.wrapper.appendChild(document.createElement("hr")),this.wrapper.appendChild(a.label("Pattern")),this.wrapper.appendChild(this.inputs.globs),this.wrapper.appendChild(a.label("Image Width")),this.wrapper.appendChild(this.inputs.width),this.settings=[{name:"stretched",title:"Full Width",
icon:'<svg width="17" height="10" viewBox="0 0 17 10"><path d="M13.568 5.925H4.056l1.703 1.703a1.125 1.125 0 0 1-1.59 1.591L.962 6.014A1.069 1.069 0 0 1 .588 4.26L4.38.469a1.069 1.069 0 0 1 1.512 1.511L4.084 3.787h9.606l-1.85-1.85a1.069 1.069 0 1 1 1.512-1.51l3.792 3.791a1.069 1.069 0 0 1-.475 1.788L13.514 9.16a1.125 1.125 0 0 1-1.59-1.591l1.644-1.644z"/></svg>'},{name:"cleanBottom",title:"Clean Bottom Edge",
icon:'<svg width="18px" height="16px" viewBox="-50 68.5 18 16"><path d="M-32,79.5c0,0.553-0.448,1-1,1h-6c-0.552,0-1-0.447-1-1v-4c0-0.553,0.448-1,1-1h6c0.552,0,1,0.447,1,1V79.5z"/><path d="M-32,71.5c0,0.553-0.448,1-1,1h-6c-0.552,0-1-0.447-1-1v-2c0-0.553,0.448-1,1-1h6c0.552,0,1,0.447,1,1V71.5z"/><path d="M-32,83.521c0,0.541-0.438,0.979-0.979,0.979h-16.041c-0.541,0-0.979-0.438-0.979-0.979l0,0 c0-0.541,0.438-0.979,0.979-0.979h16.041C-32.438,82.541-32,82.979-32,83.521L-32,83.521z"/><path d="M-50,69.5c0-0.553,0.448-1,1-1h6c0.552,0,1,0.447,1,1v4c0,0.553-0.448,1-1,1h-6c-0.552,0-1-0.447-1-1V69.5z"/><path d="M-50,77.5c0-0.553,0.448-1,1-1h6c0.552,0,1,0.447,1,1v2c0,0.553-0.448,1-1,1h-6c-0.552,0-1-0.447-1-1V77.5z"/></svg>'
}],Promise.resolve().then(()=>{this.api.blocks.stretchBlock(this.api.blocks.getCurrentBlockIndex(),this.data.stretched)})}static get toolbox(){return{title:"Gallery",icon:'<svg width="18px" height="15px" viewBox="0 0 18 15"><path d="M14,0H4C1.791,0,0,1.791,0,4v7c0,2.209,1.791,4,4,4h10c2.209,0,4-1.791,4-4V4C18,1.791,16.209,0,14,0z M4,2h4v6H2V4 C2,2.897,2.897,2,4,2z M4,13c-1.103,0-2-0.897-2-2v-1h6v3H4z M16,11c0,1.103-0.897,2-2,2h-4V7h6V11z M16,5h-6V2h4 c1.103,0,2,0.897,2,2V5z"/></svg>'}}render(){
return this.wrapper}save(){var t=Automad.util.stripNbsp;return Object.assign(this.data,{globs:t(this.inputs.globs.innerHTML),width:parseInt(t(this.inputs.width.innerHTML))})}renderSettings(){var t=document.createElement("div"),e=this;return t.classList.add("cdx-settings-1-2"),this.settings.forEach((function(a){var i=document.createElement("div");i.classList.add("cdx-settings-button"),i.classList.toggle("cdx-settings-button--active",e.data[a.name]),i.innerHTML=a.icon,t.appendChild(i),
i.addEventListener("click",(function(){e.toggleTune(a.name),i.classList.toggle("cdx-settings-button--active")})),e.api.tooltip.onHover(i,a.title,{placement:"top"})})),t}toggleTune(t){this.data[t]=!this.data[t],"stretched"==t&&this.api.blocks.stretchBlock(this.api.blocks.getCurrentBlockIndex(),this.data.stretched)}static get sanitize(){return{globs:!1,width:!1}}}class AutomadImage{constructor({data:t,api:e}){this.api=e,this.data={url:t.url||"",caption:t.caption||"",
stretched:void 0!==t.stretched&&t.stretched},this.wrapper=document.createElement("div"),this.wrapper.classList.add("cdx-block"),this.img=document.createElement("img"),this.caption=Automad.util.create.editable(["cdx-input"],"Enter a caption",this.data.caption),this.wrapper.appendChild(this.img),this.wrapper.appendChild(this.caption),this.button=document.createElement("div"),this.button.innerHTML='<i class="am-u-icon-image am-u-icon-small"></i>&nbsp;&nbsp;Select Image',
this.button.classList.add("am-u-panel","am-u-panel-box","am-u-text-muted","am-u-text-center");var a=this;this.button.addEventListener("click",(function(){a.select()})),this.settings=this.renderStretchSetting()}static get toolbox(){return{title:"Image",
icon:'<svg width="18px" height="15px" viewBox="0 0 18 15"><path d="M18,4c0-2.209-1.791-4-4-4H4C1.791,0,0,1.791,0,4v7c0,2.209,1.791,4,4,4h10c2.209,0,4-1.791,4-4V4z M4,2h10 c1.103,0,2,0.897,2,2v3.636l-1.279-1.33C14.534,6.113,14.278,6.002,14.01,6c-0.287-0.012-0.527,0.103-0.717,0.293l-2.302,2.302 L6.573,4.284c-0.389-0.379-1.008-0.379-1.396,0L2,7.383V4C2,2.897,2.897,2,4,2z M14,13H4c-1.103,0-2-0.897-2-2v-0.822l3.875-3.781 l4.427,4.319C10.496,10.905,10.748,11,11,11c0.256,0,0.512-0.098,0.707-0.293l2.279-2.279L16,10.521V11C16,12.103,15.103,13,14,13z" /></svg>'
}}static get pasteConfig(){return{patterns:{image:/(https?:\/\/)?\S+\.(gif|jpe?g|tiff|png)$/i}}}insertImage(t){t&&(this.img.src=Automad.util.resolvePath(t),this.data.url=t,this.button.parentNode.replaceChild(this.wrapper,this.button))}select(){var t=this;Automad.selectImage.dialog(!1,!0,(function(e){t.insertImage(e)}))}appendCallback(){this.select()}render(){return this.data&&this.data.url?(this.img.src=Automad.util.resolvePath(this.data.url),this.wrapper):this.button}save(){
return Object.assign(this.data,{url:this.data.url,caption:this.caption.innerHTML})}onPaste(t){"pattern"==t.type&&this.insertImage(t.detail.data)}renderSettings(){return this.settings}renderStretchSetting(){var t=this,e=document.createElement("div"),a=document.createElement("div");return e.classList.add("cdx-settings-1-1"),a.classList.add(t.api.styles.settingsButton),a.classList.toggle(t.api.styles.settingsButtonActive,t.data.stretched),
a.innerHTML='<svg width="17" height="10" viewBox="0 0 17 10"><path d="M13.568 5.925H4.056l1.703 1.703a1.125 1.125 0 0 1-1.59 1.591L.962 6.014A1.069 1.069 0 0 1 .588 4.26L4.38.469a1.069 1.069 0 0 1 1.512 1.511L4.084 3.787h9.606l-1.85-1.85a1.069 1.069 0 1 1 1.512-1.51l3.792 3.791a1.069 1.069 0 0 1-.475 1.788L13.514 9.16a1.125 1.125 0 0 1-1.59-1.591l1.644-1.644z"/></svg>',e.appendChild(a),a.addEventListener("click",(function(){t.data.stretched=!t.data.stretched,
t.api.blocks.stretchBlock(t.api.blocks.getCurrentBlockIndex(),t.data.stretched),a.classList.toggle(t.api.styles.settingsButtonActive)})),Promise.resolve().then(()=>{t.api.blocks.stretchBlock(t.api.blocks.getCurrentBlockIndex(),t.data.stretched)}),t.api.tooltip.onHover(a,"Full Width",{placement:"top"}),e}}class AutomadMail{constructor({data:t}){var e=Automad.util.create;this.data={to:t.to||"",error:t.error||"Please fill out all fields!",success:t.success||"Successfully sent email!",
placeholderEmail:t.placeholderEmail||"Your email address",placeholderSubject:t.placeholderSubject||"Subject",placeholderMessage:t.placeholderMessage||"Message",textButton:t.textButton||"Send"},this.inputs={to:e.editable(["cdx-input"],"Enter your email address here",this.data.to),error:e.editable(["cdx-input"],"Enter an optional error message here",this.data.error),success:e.editable(["cdx-input"],"Enter an optional success message here",this.data.success),
placeholderEmail:e.editable(["cdx-input"],"",this.data.placeholderEmail),placeholderSubject:e.editable(["cdx-input"],"",this.data.placeholderSubject),placeholderMessage:e.editable(["cdx-input"],"",this.data.placeholderMessage),textButton:e.editable(["cdx-input"],"",this.data.textButton)};var a=document.createElement("div"),i=document.createElement("div");a.innerHTML=AutomadMail.toolbox.icon,a.classList.add("am-block-icon"),i.innerHTML=AutomadMail.toolbox.title,i.classList.add("am-block-title"),
this.wrapper=document.createElement("div"),this.wrapper.classList.add("am-u-panel","am-u-panel-box"),this.wrapper.appendChild(a),this.wrapper.appendChild(i),this.wrapper.appendChild(document.createElement("hr")),this.wrapper.appendChild(e.label("Your Email Address")),this.wrapper.appendChild(this.inputs.to),this.wrapper.appendChild(e.label("Success Message")),this.wrapper.appendChild(this.inputs.success),this.wrapper.appendChild(e.label("Error message")),this.wrapper.appendChild(this.inputs.error),
this.wrapper.appendChild(e.label("Placeholder Email")),this.wrapper.appendChild(this.inputs.placeholderEmail),this.wrapper.appendChild(e.label("Placeholder Subject")),this.wrapper.appendChild(this.inputs.placeholderSubject),this.wrapper.appendChild(e.label("Placeholder Message")),this.wrapper.appendChild(this.inputs.placeholderMessage),this.wrapper.appendChild(e.label("Text Button")),this.wrapper.appendChild(this.inputs.textButton)}static get toolbox(){return{title:"Mail Form",
icon:'<svg width="18px" height="15px" viewBox="0 0 18 15"><path d="M14,0H4C1.791,0,0,1.791,0,4v7c0,2.209,1.791,4,4,4h10c2.209,0,4-1.791,4-4V4C18,1.791,16.209,0,14,0z M14,2 c0.153,0,0.302,0.021,0.445,0.054L9,7.5L3.554,2.054C3.698,2.021,3.846,2,4,2H14z M16,11c0,1.103-0.897,2-2,2H4 c-1.103,0-2-0.897-2-2V4c0-0.154,0.021-0.302,0.054-0.446L8.25,9.75C8.457,9.957,8.729,10.061,9,10.061S9.543,9.957,9.75,9.75 l6.195-6.196C15.979,3.698,16,3.846,16,4V11z"/></svg>'}}static get sanitize(){return{to:!1,
placeholderEmail:!1,placeholderSubject:!1,placeholderMessage:!1}}render(){return this.wrapper}save(){var t=Automad.util.stripNbsp;return{to:t(this.inputs.to.innerHTML),error:t(this.inputs.error.innerHTML),success:t(this.inputs.success.innerHTML),placeholderEmail:t(this.inputs.placeholderEmail.innerHTML),placeholderSubject:t(this.inputs.placeholderSubject.innerHTML),placeholderMessage:t(this.inputs.placeholderMessage.innerHTML),textButton:t(this.inputs.textButton.innerHTML)}}}
class AutomadPagelist{constructor({data:t,api:e}){var a=Automad.util.create;this.api=e,this.data={type:t.type||"",matchUrl:t.matchUrl||"",filter:t.filter||"",template:t.template||"",limit:t.limit||3,offset:t.offset||0,sortKey:t.sortKey||":path",sortOrder:t.sortOrder||"asc",file:t.file||""},this.wrapper=document.createElement("div"),this.wrapper.classList.add("am-u-panel","am-u-panel-box"),
this.wrapper.innerHTML=`\n\t\t\t<div class="am-block-icon">${AutomadPagelist.toolbox.icon}</div>\n\t\t\t<div class="am-block-title">${AutomadPagelist.toolbox.title}</div>\n\t\t\t<hr>\n\t\t\t<ul class="am-u-grid">\n\t\t\t\t<li class="am-u-width-medium-1-1">\n\t\t\t\t\t${a.label("Select Template",["am-block-label","am-u-margin-top-remove"]).outerHTML}\n\t\t\t\t\t<div class="am-block-file-select am-u-form-select am-u-button am-u-text-left am-u-width-1-1" data-am-u-form-select>\n\t\t\t\t\t\t<i class="am-u-icon-file"></i>&nbsp;\n\t\t\t\t\t\t<span></span>\n\t\t\t\t\t\t${a.select(["am-block-file"],["default template"].concat(window.AutomadBlockTemplates.pagelist),this.data.file).outerHTML}\n\t\t\t\t\t</div>\n\t\t\t\t</li>\n\t\t\t\t<li class="am-u-width-medium-1-1">\n\t\t\t\t\t${a.label("Match URL Regex").outerHTML}\n\t\t\t\t\t${a.editable(["cdx-input","am-block-match-url"],"work|blog",this.data.matchUrl).outerHTML}\n\t\t\t\t</li>\n\t\t\t\t<li class="am-u-width-medium-1-3">\n\t\t\t\t\t${a.label("Type").outerHTML}\n\t\t\t\t\t${a.select(["cdx-input","am-block-type"],["all","children","related","siblings"],this.data.type).outerHTML}\n\t\t\t\t</li>\n\t\t\t\t<li class="am-u-width-medium-1-3">\n\t\t\t\t\t${a.label("Filter by Tag").outerHTML}\n\t\t\t\t\t${a.editable(["cdx-input","am-block-filter"],"",this.data.filter).outerHTML}\n\t\t\t\t</li>\n\t\t\t\t<li class="am-u-width-medium-1-3">\n\t\t\t\t\t${a.label("Filter by Template").outerHTML}\n\t\t\t\t\t${a.editable(["cdx-input","am-block-template"],"post|project",this.data.template).outerHTML}\n\t\t\t\t</li>\n\t\t\t\t<li class="am-u-width-medium-1-3">\n\t\t\t\t\t${a.label("Limit and Offset").outerHTML}\n\t\t\t\t\t<div class="am-form-input-group">\n\t\t\t\t\t\t${a.editable(["cdx-input","am-block-limit"],"",this.data.limit).outerHTML}\n\t\t\t\t\t\t${a.editable(["cdx-input","am-block-offset"],"",this.data.offset).outerHTML}\n\t\t\t\t\t</div>\n\t\t\t\t</li>\n\t\t\t\t<li class="am-u-width-medium-1-3">\n\t\t\t\t\t${a.label("Sort by Variable").outerHTML}\n\t\t\t\t\t${a.editable(["cdx-input","am-block-sort-key"],":path",this.data.sortKey).outerHTML}\n\t\t\t\t</li>\n\t\t\t\t<li class="am-u-width-medium-1-3">\n\t\t\t\t\t${a.label("Sort Order").outerHTML}\n\t\t\t\t\t${a.select(["cdx-input","am-block-sort-order"],["asc","desc"],this.data.sortOrder).outerHTML}\n\t\t\t\t</li>\n\t\t\t</ul>`,
this.inputs={type:this.wrapper.querySelector(".am-block-type"),matchUrl:this.wrapper.querySelector(".am-block-match-url"),filter:this.wrapper.querySelector(".am-block-filter"),template:this.wrapper.querySelector(".am-block-template"),limit:this.wrapper.querySelector(".am-block-limit"),offset:this.wrapper.querySelector(".am-block-offset"),sortKey:this.wrapper.querySelector(".am-block-sort-key"),sortOrder:this.wrapper.querySelector(".am-block-sort-order"),
file:this.wrapper.querySelector(".am-block-file")}}static get toolbox(){return{title:"Pagelist",
icon:'<svg width="16px" height="18px" viewBox="0 0 16 18"><path d="M7,3C4.79,3,3,4.79,3,7v7c0,2.21,1.79,4,4,4h5c2.21,0,4-1.79,4-4V7c0-2.21-1.79-4-4-4 M12,5c1.1,0,2,0.9,2,2v7 c0,1.1-0.9,2-2,2H7c-1.1,0-2-0.9-2-2V7c0-1.1,0.9-2,2-2"/><path d="M2,11V6V4c0-1.1,0.9-2,2-2h1h4h3.45C11.75,0.81,10.48,0,9,0H4C1.79,0,0,1.79,0,4v7c0,1.48,0.81,2.75,2,3.45V11z"/><path d="M12,9H7C6.72,9,6.5,8.78,6.5,8.5S6.72,8,7,8h5c0.28,0,0.5,0.22,0.5,0.5S12.28,9,12,9z"/><path d="M12,11H7c-0.28,0-0.5-0.22-0.5-0.5S6.72,10,7,10h5c0.28,0,0.5,0.22,0.5,0.5S12.28,11,12,11z"/><path d="M12,13H7c-0.28,0-0.5-0.22-0.5-0.5S6.72,12,7,12h5c0.28,0,0.5,0.22,0.5,0.5S12.28,13,12,13z"/></svg>'
}}static get sanitize(){return{type:!1,matchUrl:!1,filter:!1,template:!1,limit:!1,offset:!1,sortKey:!1,sortOrder:!1,file:!1}}render(){return this.wrapper}save(){var t=Automad.util.stripNbsp;return{type:this.inputs.type.value,matchUrl:t(this.inputs.matchUrl.innerHTML),filter:t(this.inputs.filter.innerHTML),template:t(this.inputs.template.innerHTML),limit:t(this.inputs.limit.innerHTML),offset:t(this.inputs.offset.innerHTML),sortKey:t(this.inputs.sortKey.innerHTML),
sortOrder:this.inputs.sortOrder.value,file:this.inputs.file.value}}}class AutomadParagraph{constructor({data:t,api:e}){var a=void 0!==t.large&&t.large;this.api=e,this._CSS={block:this.api.styles.block,wrapper:"ce-paragraph",large:"am-paragraph-large"},this._data={},this.onKeyUp=this.onKeyUp.bind(this),this.input=this.drawView(a),this.data={text:t.text||"",large:a},this.settings=[{name:"large",title:"Large",
icon:'<svg width="24px" height="14px" viewBox="0 0 24 14"><path d="M12.815,11.695L7.609,1.283c-0.387-0.771-1.651-0.771-2.038,0L0.365,11.695c-0.281,0.562-0.054,1.246,0.509,1.527 c0.562,0.287,1.247,0.057,1.528-0.508l0.987-1.975h6.402l0.986,1.975c0.2,0.398,0.602,0.629,1.02,0.629 c0.173,0,0.346-0.038,0.508-0.121C12.869,12.941,13.095,12.258,12.815,11.695z M4.528,8.463l2.061-4.124l2.063,4.124H4.528z"/><path d="M23.416,4.887L19.6,1.11c-0.208-0.271-0.52-0.456-0.889-0.456c-0.368,0-0.68,0.186-0.889,0.456l-3.816,3.777 c-0.447,0.442-0.451,1.165-0.01,1.611c0.445,0.445,1.164,0.453,1.611,0.01l1.965-1.946v7.643c0,0.629,0.51,1.139,1.139,1.139 s1.139-0.51,1.139-1.139V4.562l1.966,1.946c0.221,0.219,0.511,0.328,0.8,0.328c0.295,0,0.588-0.113,0.811-0.338 C23.868,6.052,23.864,5.33,23.416,4.887z"/></svg>'
}]}onKeyUp(t){if("Backspace"!==t.code&&"Delete"!==t.code)return;const{textContent:e}=this.input;""===e&&(this.input.innerHTML="")}drawView(t){var e=Automad.util.create.editable([this._CSS.wrapper,this._CSS.block],"","");return t&&e.classList.add(this._CSS.large),e.addEventListener("keyup",this.onKeyUp),e}render(){return this.input}merge(t){let e={text:this.data.text+t.text};this.data=e}validate(t){return""!==t.text.trim()}save(){return Object.assign(this.data,{
text:this.input.innerHTML.replace(/\<br\>$/,"")})}onPaste(t){const e={text:t.detail.data.innerHTML};this.data=e}get data(){let t=this.input.innerHTML;return this._data.text=t,this._data}set data(t){this._data=t||{},this.input.innerHTML=this._data.text||""}renderSettings(){var t=document.createElement("div"),e=this;return t.classList.add("cdx-settings-1-1"),this.settings.forEach((function(a){var i=document.createElement("div");i.classList.add("cdx-settings-button"),
i.classList.toggle("cdx-settings-button--active",e.data[a.name]),i.innerHTML=a.icon,t.appendChild(i),i.addEventListener("click",(function(){e.toggleTune(a.name),i.classList.toggle("cdx-settings-button--active"),e.input.classList.toggle(e._CSS.large)})),e.api.tooltip.onHover(i,a.title,{placement:"top"})})),t}toggleTune(t){this.data[t]=!this.data[t]}static get conversionConfig(){return{export:"text",import:"text"}}static get sanitize(){return{text:{br:!0}}}static get pasteConfig(){return{
tags:["P"]}}static get toolbox(){return{
icon:'<svg viewBox="0.2 -0.3 9 11.4" width="12" height="14"><path d="M0 2.77V.92A1 1 0 01.2.28C.35.1.56 0 .83 0h7.66c.28.01.48.1.63.28.14.17.21.38.21.64v1.85c0 .26-.08.48-.23.66-.15.17-.37.26-.66.26-.28 0-.5-.09-.64-.26a1 1 0 01-.21-.66V1.69H5.6v7.58h.5c.25 0 .45.08.6.23.17.16.25.35.25.6s-.08.45-.24.6a.87.87 0 01-.62.22H3.21a.87.87 0 01-.61-.22.78.78 0 01-.24-.6c0-.25.08-.44.24-.6a.85.85 0 01.61-.23h.5V1.7H1.73v1.08c0 .26-.08.48-.23.66-.15.17-.37.26-.66.26-.28 0-.5-.09-.64-.26A1 1 0 010 2.77z"/></svg>',
title:"Text"}}}class AutomadSlider{constructor({data:t,api:e}){var a=Automad.util.create;this.api=e,this.data={globs:t.globs||"*.jpg, *.png, *.gif",width:t.width||1200,height:t.height||600,stretched:void 0===t.stretched||t.stretched,dots:void 0===t.dots||t.dots,autoplay:void 0===t.autoplay||t.autoplay},this.inputs={globs:a.editable(["cdx-input"],"Enter one or more glob patterns",this.data.globs),width:a.editable(["cdx-input"],"Image width in px",this.data.width),
height:a.editable(["cdx-input"],"Image height in px",this.data.height)};var i=document.createElement("div"),o=document.createElement("div"),n=document.createElement("ul"),r=document.createElement("li"),s=document.createElement("li");i.innerHTML=AutomadSlider.toolbox.icon,i.classList.add("am-block-icon"),o.innerHTML=AutomadSlider.toolbox.title,o.classList.add("am-block-title"),n.classList.add("am-u-grid","am-u-grid-width-medium-1-2"),r.appendChild(a.label("Image Width")),
r.appendChild(this.inputs.width),s.appendChild(a.label("Image Height")),s.appendChild(this.inputs.height),n.appendChild(r),n.appendChild(s),this.wrapper=document.createElement("div"),this.wrapper.classList.add("am-u-panel","am-u-panel-box"),this.wrapper.appendChild(i),this.wrapper.appendChild(o),this.wrapper.appendChild(document.createElement("hr")),this.wrapper.appendChild(a.label("Pattern")),this.wrapper.appendChild(this.inputs.globs),this.wrapper.appendChild(n),this.settings=[{name:"stretched",
title:"Full Width",icon:'<svg width="17" height="10" viewBox="0 0 17 10"><path d="M13.568 5.925H4.056l1.703 1.703a1.125 1.125 0 0 1-1.59 1.591L.962 6.014A1.069 1.069 0 0 1 .588 4.26L4.38.469a1.069 1.069 0 0 1 1.512 1.511L4.084 3.787h9.606l-1.85-1.85a1.069 1.069 0 1 1 1.512-1.51l3.792 3.791a1.069 1.069 0 0 1-.475 1.788L13.514 9.16a1.125 1.125 0 0 1-1.59-1.591l1.644-1.644z"/></svg>'},{name:"dots",title:"Show Dot Navigation",
icon:'<svg width="17px" height="10px" viewBox="0 0 17 10"><circle cx="2.0" cy="5" r="2.0"/><circle cx="8.5" cy="5" r="2.0"/><circle cx="15.0" cy="5" r="2.0"/></svg>'},{name:"autoplay",title:"Autoplay",
icon:'<svg width="14px" height="14px" viewBox="0 0 14 14"><path d="M3,13.424c-0.259,0-0.518-0.067-0.75-0.201C1.786,12.955,1.5,12.46,1.5,11.924V2.076c0-0.536,0.286-1.031,0.75-1.299 c0.464-0.269,1.036-0.269,1.5,0l8.527,4.924c0.464,0.268,0.75,0.763,0.75,1.299s-0.286,1.031-0.75,1.299L3.75,13.223 C3.518,13.356,3.259,13.424,3,13.424z"/></svg>'}],Promise.resolve().then(()=>{this.api.blocks.stretchBlock(this.api.blocks.getCurrentBlockIndex(),this.data.stretched)})}static get toolbox(){return{
title:"Slider",
icon:'<svg width="18px" height="15px" viewBox="0 0 18 15"><path d="M14,0H4C1.791,0,0,1.791,0,4v7c0,2.209,1.791,4,4,4h10c2.209,0,4-1.791,4-4V4C18,1.791,16.209,0,14,0z M16,11 c0,1.103-0.897,2-2,2H4c-1.103,0-2-0.897-2-2V4c0-1.103,0.897-2,2-2h10c1.103,0,2,0.897,2,2V11z"/><path d="M6.5,8.5c-0.097,0-0.194-0.028-0.277-0.084l-3-2C3.083,6.323,3,6.167,3,6s0.083-0.323,0.223-0.416l3-2 c0.153-0.102,0.352-0.111,0.513-0.025C6.898,3.646,7,3.815,7,4v4c0,0.185-0.102,0.354-0.264,0.44C6.662,8.48,6.581,8.5,6.5,8.5z"/><path d="M11.264,8.44C11.102,8.354,11,8.185,11,8V4c0-0.185,0.102-0.354,0.264-0.441c0.162-0.086,0.361-0.077,0.514,0.025l3,2 C14.916,5.677,15,5.833,15,6s-0.084,0.323-0.223,0.416l-3,2C11.693,8.472,11.598,8.5,11.5,8.5C11.419,8.5,11.338,8.48,11.264,8.44z"/><circle cx="9" cy="11" r="1"/><circle cx="6" cy="11" r="1"/><circle cx="12" cy="11" r="1"/></svg>'
}}render(){return this.wrapper}save(){var t=Automad.util.stripNbsp;return Object.assign(this.data,{globs:t(this.inputs.globs.innerHTML),width:parseInt(t(this.inputs.width.innerHTML)),height:parseInt(t(this.inputs.height.innerHTML))})}renderSettings(){var t=document.createElement("div"),e=this;return this.settings.forEach((function(a){var i=document.createElement("div");i.classList.add("cdx-settings-button"),i.classList.toggle("cdx-settings-button--active",e.data[a.name]),i.innerHTML=a.icon,
t.appendChild(i),i.addEventListener("click",(function(){e.toggleTune(a.name),i.classList.toggle("cdx-settings-button--active")})),e.api.tooltip.onHover(i,a.title,{placement:"top"})})),t}toggleTune(t){this.data[t]=!this.data[t],"stretched"==t&&this.api.blocks.stretchBlock(this.api.blocks.getCurrentBlockIndex(),this.data.stretched)}static get sanitize(){return{globs:!1,width:!1,height:!1}}}class AutomadSnippet{constructor({data:t,api:e}){var a=Automad.util.create;this.api=e,this.data={
file:t.file||"",snippet:t.snippet||""},this.wrapper=document.createElement("div"),this.wrapper.classList.add("am-u-panel","am-u-panel-box");var i=a.element("textarea",["ce-code","cdx-input","am-block-run-before"]);i.setAttribute("placeholder",'<@ set { :variable: "value" } @>'),
this.wrapper.innerHTML=`\n\t\t\t<div class="am-block-icon">${AutomadSnippet.toolbox.icon}</div>\n\t\t\t<div class="am-block-title">${AutomadSnippet.toolbox.title}</div>\n\t\t\t<hr>\n\t\t\t${a.label("Snippet",["am-block-label","am-u-margin-top-remove"]).outerHTML}\n\t\t\t${i.outerHTML}\n\t\t\t${a.label("Include Snippet File",["am-block-label"]).outerHTML}\n\t\t\t<div class="am-block-file-select am-u-form-select am-u-button am-u-text-left am-u-width-1-1" data-am-u-form-select>\n\t\t\t\t<i class="am-u-icon-file"></i>&nbsp;\n\t\t\t\t<span></span>\n\t\t\t\t${a.select(["am-block-file"],["—"].concat(window.AutomadBlockTemplates.snippets),this.data.file).outerHTML}\n\t\t\t</div>\n\t\t`,
this.inputs={file:this.wrapper.querySelector(".am-block-file"),snippet:this.wrapper.querySelector(".am-block-run-before")},this.api.listeners.on(this.inputs.snippet,"keydown",Automad.textarea.handleTabs,!0),this.inputs.snippet.value=this.data.snippet}static get enableLineBreaks(){return!0}static get toolbox(){return{title:"Template Snippet",
icon:'<svg width="15px" height="18px" viewBox="0 0 15 18"><path d="M11.02,1.52C9.89,0.39,9.25,0,7,0C5,0,4,0,4,0C1.79,0,0,1.79,0,4v10c0,2.21,1.79,4,4,4h7c2.21,0,4-1.79,4-4c0,0,0-4.02,0-6 c0-2.25-0.33-2.83-1.48-3.98C11.95,2.45,12.53,3.03,11.02,1.52z M13,14c0,1.1-0.9,2-2,2H4c-1.1,0-2-0.9-2-2V4c0-1.1,0.9-2,2-2h3v2 c0,2.21,1.79,4,4,4h2V14z"/><path d="M8.63,9.43c-0.31,0.31-0.31,0.82,0,1.13L10.07,12l-1.43,1.43c-0.31,0.31-0.31,0.82,0,1.13C8.79,14.72,9,14.8,9.2,14.8 c0.21,0,0.41-0.08,0.57-0.23l2-2c0.31-0.31,0.31-0.82,0-1.13l-2-2C9.45,9.12,8.95,9.12,8.63,9.43z"/><path d="M6.37,9.43c-0.31-0.31-0.82-0.31-1.13,0l-2,2c-0.31,0.31-0.31,0.82,0,1.13l2,2c0.16,0.16,0.36,0.23,0.57,0.23 s0.41-0.08,0.57-0.23c0.31-0.31,0.31-0.82,0-1.13L4.93,12l1.43-1.43C6.68,10.25,6.68,9.75,6.37,9.43z"/></svg>'
}}static get sanitize(){return{snippet:!0}}render(){return this.wrapper}save(){return{file:this.inputs.file.value,snippet:this.inputs.snippet.value}}}class AutomadTextarea{constructor({data:t,api:e}){this.api=e,this.data={code:t.code||""},this.wrapper=this.drawView()}drawView(){var t=Automad.util.create.element("textarea",["ce-code","cdx-input"]),e=Automad.util.create.label(this.label()),a=Automad.util.create.element("div",[this.api.styles.block]);return t.value=this.data.code,
e.classList.add("am-u-margin-top-remove"),a.appendChild(e),a.appendChild(t),this.input=t,this.api.listeners.on(this.input,"keydown",Automad.textarea.handleTabs,!0),a}render(){return this.wrapper}validate(t){return""!==t.code.trim()}save(){return{code:this.input.value}}static get enableLineBreaks(){return!0}static get toolbox(){return{icon:"",title:""}}static get sanitize(){return{code:!0}}label(){return""}placeholder(){return""}}class AutomadTextareaCode extends AutomadTextarea{
static get toolbox(){return{
icon:'<svg width="14" height="14" viewBox="0 -1 14 14"><path d="M3.177 6.852c.205.253.347.572.427.954.078.372.117.844.117 1.417 0 .418.01.725.03.92.02.18.057.314.107.396.046.075.093.117.14.134.075.027.218.056.42.083a.855.855 0 0 1 .56.297c.145.167.215.38.215.636 0 .612-.432.934-1.216.934-.457 0-.87-.087-1.233-.262a1.995 1.995 0 0 1-.853-.751 2.09 2.09 0 0 1-.305-1.097c-.014-.648-.029-1.168-.043-1.56-.013-.383-.034-.631-.06-.733-.064-.263-.158-.455-.276-.578a2.163 2.163 0 0 0-.505-.376c-.238-.134-.41-.256-.519-.371C.058 6.76 0 6.567 0 6.315c0-.37.166-.657.493-.846.329-.186.56-.342.693-.466a.942.942 0 0 0 .26-.447c.056-.2.088-.42.097-.658.01-.25.024-.85.043-1.802.015-.629.239-1.14.672-1.522C2.691.19 3.268 0 3.977 0c.783 0 1.216.317 1.216.921 0 .264-.069.48-.211.643a.858.858 0 0 1-.563.29c-.249.03-.417.076-.498.126-.062.04-.112.134-.139.291-.031.187-.052.562-.061 1.119a8.828 8.828 0 0 1-.112 1.378 2.24 2.24 0 0 1-.404.963c-.159.212-.373.406-.64.583.25.163.454.342.612.538zm7.34 0c.157-.196.362-.375.612-.538a2.544 2.544 0 0 1-.641-.583 2.24 2.24 0 0 1-.404-.963 8.828 8.828 0 0 1-.112-1.378c-.009-.557-.03-.932-.061-1.119-.027-.157-.077-.251-.14-.29-.08-.051-.248-.096-.496-.127a.858.858 0 0 1-.564-.29C8.57 1.401 8.5 1.185 8.5.921 8.5.317 8.933 0 9.716 0c.71 0 1.286.19 1.72.574.432.382.656.893.671 1.522.02.952.033 1.553.043 1.802.009.238.041.458.097.658a.942.942 0 0 0 .26.447c.133.124.364.28.693.466a.926.926 0 0 1 .493.846c0 .252-.058.446-.183.58-.109.115-.281.237-.52.371-.21.118-.377.244-.504.376-.118.123-.212.315-.277.578-.025.102-.045.35-.06.733-.013.392-.027.912-.042 1.56a2.09 2.09 0 0 1-.305 1.097c-.2.323-.486.574-.853.75a2.811 2.811 0 0 1-1.233.263c-.784 0-1.216-.322-1.216-.934 0-.256.07-.47.214-.636a.855.855 0 0 1 .562-.297c.201-.027.344-.056.418-.083.048-.017.096-.06.14-.134a.996.996 0 0 0 .107-.396c.02-.195.031-.502.031-.92 0-.573.039-1.045.117-1.417.08-.382.222-.701.427-.954z" /></svg>',
title:"Code"}}label(){return"Code"}placeholder(){return"Enter Code"}onPaste(t){this.input.value=t.detail.data.textContent}static get pasteConfig(){return{tags:["pre"]}}}class AutomadTextareaRaw extends AutomadTextarea{static get toolbox(){return{
icon:'<svg width="19" height="13" viewBox="0 0 19 13"><path d="M18.004 5.794c.24.422.18.968-.18 1.328l-4.943 4.943a1.105 1.105 0 1 1-1.562-1.562l4.162-4.162-4.103-4.103A1.125 1.125 0 1 1 12.97.648l4.796 4.796c.104.104.184.223.239.35zm-15.142.547l4.162 4.162a1.105 1.105 0 1 1-1.562 1.562L.519 7.122c-.36-.36-.42-.906-.18-1.328a1.13 1.13 0 0 1 .239-.35L5.374.647a1.125 1.125 0 0 1 1.591 1.591L2.862 6.341z"/></svg>',title:"Markdown ⁄ HTML"}}label(){return"Markdown ⁄ HTML"}placeholder(){
return"Enter Markdown or raw HTML code"}}class AutomadToc{static get isReadOnlySupported(){return!0}static get contentless(){return!0}constructor({data:t,config:e,api:a}){this.data={key:e.key,style:t.style||"ordered"},this.api=a,this.wrapper=document.createElement("div"),this.wrapper.classList.add("am-u-panel","am-u-panel-box"),this.wrapper.innerHTML=`\n\t\t\t<div class="am-block-icon">${AutomadToc.toolbox.icon}</div>\n\t\t\t<div class="am-block-title">${AutomadToc.toolbox.title}</div>\n\t\t`,
this.settings=[{name:"ordered",title:"Ordered",
icon:'<svg width="17" height="13" viewBox="0 0 17 13"><path d="M5.819 4.607h9.362a1.069 1.069 0 0 1 0 2.138H5.82a1.069 1.069 0 1 1 0-2.138zm0-4.607h9.362a1.069 1.069 0 0 1 0 2.138H5.82a1.069 1.069 0 1 1 0-2.138zm0 9.357h9.362a1.069 1.069 0 0 1 0 2.138H5.82a1.069 1.069 0 0 1 0-2.137zM1.468 4.155V1.33c-.554.404-.926.606-1.118.606a.338.338 0 0 1-.244-.104A.327.327 0 0 1 0 1.59c0-.107.035-.184.105-.234.07-.05.192-.114.369-.192.264-.118.475-.243.633-.373.158-.13.298-.276.42-.438a3.94 3.94 0 0 1 .238-.298C1.802.019 1.872 0 1.975 0c.115 0 .208.042.277.127.07.085.105.202.105.351v3.556c0 .416-.15.624-.448.624a.421.421 0 0 1-.32-.127c-.08-.085-.121-.21-.121-.376zm-.283 6.664h1.572c.156 0 .275.03.358.091a.294.294 0 0 1 .123.25.323.323 0 0 1-.098.238c-.065.065-.164.097-.296.097H.629a.494.494 0 0 1-.353-.119.372.372 0 0 1-.126-.28c0-.068.027-.16.081-.273a.977.977 0 0 1 .178-.268c.267-.264.507-.49.722-.678.215-.188.368-.312.46-.371.165-.11.302-.222.412-.334.109-.112.192-.226.25-.344a.786.786 0 0 0 .085-.345.6.6 0 0 0-.341-.553.75.75 0 0 0-.345-.08c-.263 0-.47.11-.62.329-.02.029-.054.107-.101.235a.966.966 0 0 1-.16.295c-.059.069-.145.103-.26.103a.348.348 0 0 1-.25-.094.34.34 0 0 1-.099-.258c0-.132.031-.27.093-.413.063-.143.155-.273.279-.39.123-.116.28-.21.47-.282.189-.072.411-.107.666-.107.307 0 .569.045.786.137a1.182 1.182 0 0 1 .618.623 1.18 1.18 0 0 1-.096 1.083 2.03 2.03 0 0 1-.378.457c-.128.11-.344.282-.646.517-.302.235-.509.417-.621.547a1.637 1.637 0 0 0-.148.187z"/></svg>'
},{name:"unordered",title:"Unordered",icon:'<svg width="17" height="13" viewBox="0 0 17 13"><path d="M5.625 4.85h9.25a1.125 1.125 0 0 1 0 2.25h-9.25a1.125 1.125 0 0 1 0-2.25zm0-4.85h9.25a1.125 1.125 0 0 1 0 2.25h-9.25a1.125 1.125 0 0 1 0-2.25zm0 9.85h9.25a1.125 1.125 0 0 1 0 2.25h-9.25a1.125 1.125 0 0 1 0-2.25zm-4.5-5a1.125 1.125 0 1 1 0 2.25 1.125 1.125 0 0 1 0-2.25zm0-4.85a1.125 1.125 0 1 1 0 2.25 1.125 1.125 0 0 1 0-2.25zm0 9.85a1.125 1.125 0 1 1 0 2.25 1.125 1.125 0 0 1 0-2.25z"/></svg>'}]}
render(){return this.wrapper}renderSettings(){var t=document.createElement("div"),e=this;return t.classList.add(this.CSS.settingsWrapper),this.settings.forEach((function(a){var i=document.createElement("div");i.classList.add(e.CSS.settingsButton),i.classList.toggle(e.CSS.settingsButtonActive,e.data.style==a.name),i.innerHTML=a.icon,t.appendChild(i),i.addEventListener("click",(function(){e.toggleTune(a);const o=t.parentNode.querySelectorAll("."+e.CSS.settingsButton)
;Array.from(o).forEach(t=>t.classList.remove(e.CSS.settingsButtonActive)),i.classList.toggle(e.CSS.settingsButtonActive)})),e.api.tooltip.onHover(i,a.title,{placement:"top"})})),t}save(){return this.data}toggleTune(t){this.data.style=t.name}static get toolbox(){return{
icon:'<svg width="17px" height="13px" x="0px" y="0px" viewBox="0 0 17 13"><path d="M3.38,5.3h10.25c0.62,0,1.12,0.5,1.12,1.12s-0.5,1.12-1.12,1.12H3.38c-0.62,0-1.12-0.5-1.12-1.12S2.75,5.3,3.38,5.3z"/><path d="M1.38,0.45h10.25c0.62,0,1.12,0.5,1.12,1.12s-0.5,1.12-1.12,1.12H1.38c-0.62,0-1.12-0.5-1.12-1.12S0.75,0.45,1.38,0.45z"/><path d="M5.38,10.3h10.25c0.62,0,1.12,0.5,1.12,1.12s-0.5,1.12-1.12,1.12H5.38c-0.62,0-1.12-0.5-1.12-1.12S4.75,10.3,5.38,10.3z"/></svg>',title:"Table of Contents"}}get CSS(){
return{settingsWrapper:"cdx-settings-1-2",settingsButton:"cdx-settings-button",settingsButtonActive:"cdx-settings-button--active"}}}